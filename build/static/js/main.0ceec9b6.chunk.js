(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{314:function(e,t,c){},398:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),a=c.n(r),s=c(23),o=c.n(s),i=(c(314),c(7)),l=c(4),j=c(11),u=c(34),d=c(241),b=c(281),p=c(20),h=c(478),m=c(480),O=c(483),x=c(148),f=c(458),g=function(){return Object(n.jsx)(f.a,{size:"huge",active:!0,inline:"centered",children:"Loading..."})};var v=function(e){var t,c=a.a.useState(!1),s=Object(l.a)(c,2),o=s[0],i=s[1],j=Object(r.useState)(!1),d=Object(l.a)(j,2),b=d[0],f=d[1],v=Object(r.useState)(!0),k=Object(l.a)(v,2),y=(k[0],k[1],"Token "+e.token+" "),N=Object(u.f)();return Object(r.useEffect)((function(){b&&(console.log(e.token),fetch("https://hashmali-backend.herokuapp.com/api/worker/logout/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:y}}).catch((function(e){return console.error(e)})),f(!1),N.push("/"))}),[b]),Object(n.jsxs)(h.a,(t={style:{marginTop:"150px",marginLeft:"300px"},size:"mini",basic:!0,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:o},Object(p.a)(t,"size","small"),Object(p.a)(t,"trigger",Object(n.jsx)(m.a,{icon:"sign-out",variant:"contained",color:"black"})),Object(p.a)(t,"children",[Object(n.jsxs)(O.a,{icon:!0,children:[Object(n.jsx)(x.a,{name:"sign-out"}),"Exit"]}),Object(n.jsx)(h.a.Content,{children:b?Object(n.jsx)(g,{}):Object(n.jsxs)("p",{style:{marginLeft:"150px"},children:["You are about to leave website,are you sure?"," "]})}),Object(n.jsxs)(h.a.Actions,{children:[Object(n.jsxs)(m.a,{color:"black",inverted:!0,onClick:function(){return i(!1)},children:[Object(n.jsx)(x.a,{name:"remove"})," No"]}),Object(n.jsxs)(m.a,{color:"black",inverted:!0,onClick:function(){return f(!0)},children:[Object(n.jsx)(x.a,{name:"checkmark"})," Yes"]})]})]),t))};function k(e){var t=Object(r.useState)("My Company"),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(!1),i=Object(l.a)(o,2);i[0],i[1];return Object(r.useEffect)((function(){e.activeItem&&s(e.activeItem)}),[e.activeItem]),console.log(a),Object(n.jsx)(d.a,{inverted:!0,style:{backgroundColor:"black"},children:Object(n.jsxs)(b.a,{inverted:!0,secondary:!0,style:{backgroundColor:"black"},children:[Object(n.jsx)(b.a.Item,{name:"My Company",active:"My Company"===a,as:j.b,to:"/Home"}),Object(n.jsx)(b.a.Item,{name:"Workers Management",active:"Workers Management"===a,as:j.b,to:"/workers_management"}),Object(n.jsx)(b.a.Item,{name:"Projects",active:"Projects"===a,as:j.b,to:"/projects"}),Object(n.jsx)(b.a.Item,{name:"Price Quote",active:"Price Quote"===a,as:j.b,to:"/annotate"}),Object(n.jsx)(b.a.Item,{name:"Reports",active:"Reports"===a,as:j.b,to:"/reports"}),Object(n.jsx)(b.a.Item,{name:"Finance",active:"Finance"===a,as:j.b,to:"/finance"}),Object(n.jsx)(b.a.Item,{name:"Missions",active:"Missions"===a,as:j.b,to:"/missions"}),Object(n.jsx)(b.a.Item,{name:"Logout",active:"Logout"===a,children:Object(n.jsx)(v,{token:e.token})})]})})}var y=c(6),N=c.n(y),_=c(14),w=c(464),C=c(468),S=c(470),A=c(469),E=c(462),T=c(467),P=c(466),D=c(459),F=c(465),I=c(234),U=c.n(I),L=c(235),z=c.n(L),W=c(236),H=c.n(W),B=c(233),G=c.n(B);c(321);var M=function(e){var t=e.avatarUrl;return t||(t="/images/Network-Profile.png"),Object(n.jsx)("img",{width:"150",height:"150",src:t})},q=Object(D.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(1,0,6)},heroButtons:{marginTop:e.spacing(2)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}}));function R(e){var t="Token "+e.token+" ",c={method:"GET",headers:{"Content-Type":"application/json",Authorization:t}},s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),p=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(l.a)(O,2),f=x[0],v=x[1],k=function(){var e=Object(_.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/info/1/",c).catch((function(e){return console.error(e)}));case 3:return t=e.sent,console.log(JSON.stringify(t)),e.next=7,t.json();case 7:n=e.sent,u(n),v(!1),h(t.status);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){e.token&&k()}),[e.token]);var y=q();return f?Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{})}):"200"==p?Object(n.jsxs)(a.a.Fragment,{children:[Object(n.jsx)(E.a,{}),Object(n.jsx)(w.a,{position:"relative"}),Object(n.jsxs)("main",{children:[Object(n.jsx)("div",{className:y.heroContent,children:Object(n.jsxs)(F.a,{maxWidth:"sm",children:[Object(n.jsx)(P.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:Object(n.jsx)(M,{avatarUrl:i.logo})}),Object(n.jsx)(P.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:i.company_name}),Object(n.jsxs)(P.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["The ",i.company_name," is a company that specialize in electrical and industrial work, which includes the preparation of electrical and communication infrastructure."]}),Object(n.jsx)("div",{className:y.heroButtons,children:Object(n.jsx)(T.a,{container:!0,spacing:2,justify:"center",children:Object(n.jsx)(T.a,{item:!0,children:Object(n.jsx)(j.b,{to:"/info_edit/",children:Object(n.jsx)(m.a,{icon:"edit",variant:"contained",color:"black"})})})})})]})}),Object(n.jsx)(F.a,{className:y.cardGrid,maxWidth:"md",children:Object(n.jsxs)(T.a,{container:!0,justify:"center",children:[Object(n.jsx)(T.a,{xs:12,sm:6,md:4,children:Object(n.jsxs)(C.a,{className:y.card,children:[Object(n.jsx)(A.a,{className:y.cardMedia,image:i.manager.image,title:"Image title"}),Object(n.jsxs)(S.a,{className:y.cardContent,children:[Object(n.jsx)(P.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Company's Manager"}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(G.a,{}),i.manager.first_name+" "+i.manager.second_name]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(U.a,{}),i.manager.phone]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(z.a,{}),i.manager.email]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(H.a,{}),i.manager.address]})]})]})}),Object(n.jsx)(T.a,{xs:12,sm:6,md:4,children:Object(n.jsxs)(C.a,{className:y.card,style:{marginLeft:"30px"},children:[Object(n.jsx)(A.a,{className:y.cardMedia,image:i.deputy_director.image,title:"Image title"}),Object(n.jsxs)(S.a,{className:y.cardContent,children:[Object(n.jsx)(P.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Deputy Director"}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(G.a,{}),i.deputy_director.first_name+" "+i.deputy_director.second_name]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(U.a,{}),i.deputy_director.phone]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(z.a,{}),i.deputy_director.email]}),Object(n.jsxs)(P.a,{variant:"h6",color:"black",children:[Object(n.jsx)(H.a,{}),i.deputy_director.address]})]})]})})]})})]})]}):Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{})})}function V(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"My Company",token:e.token}),Object(n.jsx)(R,{id:e.id,token:e.token})]})}var K=c(284),Q=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],o=a[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),h=b[0],m=b[1],O=Object(r.useState)(""),x=Object(l.a)(O,2),f=x[0],v=x[1],k=Object(r.useState)(),y=Object(l.a)(k,2),w=y[0],C=y[1],S=Object(r.useState)(""),A=Object(l.a)(S,2),E=A[0],T=A[1],P=Object(r.useState)(""),D=Object(l.a)(P,2),F=D[0],I=D[1],U=Object(r.useState)(!1),L=Object(l.a)(U,2),z=L[0],W=L[1],H=Object(r.useState)({company_name:"",logo:"",manager:"",deputy_director:""}),B=Object(l.a)(H,2),G=B[0],q=B[1],R=G.company_name,V=(G.logo,G.manager,G.deputy_director,Object(r.useState)([])),Q=Object(l.a)(V,2),Z=Q[0],X=Q[1],Y=function(e){"file"==e.target.type&&(alert(e.target.name),q(Object(i.a)(Object(i.a)({},G),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"logo"==t&&C(e.target.result)},c.readAsDataURL(e.target.files[0]),"logo"==t&&T(e.target.files[0])}(e,e.target.name)),q(Object(i.a)(Object(i.a)({},G),{},Object(p.a)({},e.target.name,e.target.value)))},J="Token "+e.token+" ",$="https://hashmali-backend.herokuapp.com/api/info/1/update/",ee=function(){console.log(E);var e=new FormData;e.append("file",E),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),W(!0),fetch("https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){I(e.url)})).catch((function(e){return alert("error while uploading...")})),W(!1)},te={method:"GET",headers:{"Content-Type":"application/json",Authorization:J}};Object(r.useEffect)((function(){e.token&&(ce(),ne(),re())}),[e.token]),Object(r.useEffect)((function(){F&&(ae(),ce(),ne(),re())}),[F]);var ce=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,fetch($,te).catch((function(e){return console.error(e)}));case 3:return t=e.sent,o(t.status),W(!1),e.next=8,t.json();case 8:c=e.sent,q(c),C(c.logo);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(s);var ne=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/worker/",te).catch((function(e){return console.error(e)}));case 2:return t=e.sent,o(t.status),e.next=6,t.json();case 6:c=e.sent,X(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(s);var re=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/info/1/",te).catch((function(e){return console.error(e)}));case 2:return t=e.sent,o(t.status),e.next=6,t.json();case 6:c=e.sent,m(c.manager.first_name+" "+c.manager.second_name),v(c.deputy_director.first_name+" "+c.deputy_director.second_name);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=new FormData;e.append("logo",F);var t={method:"PATCH",headers:{Authorization:J},body:e};W(!0),fetch($,t).then((function(e){return e.json()})).then((function(e){I(e.url)})).catch((function(e){return alert("error while updating...")})),W(!1)},se=function(){var e=Object(_.a)(N.a.mark((function e(c){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),W(!0),(n=new FormData).append("company_name",G.company_name),n.append("manager",G.manager),n.append("deputy_director",G.deputy_director),E&&(ee(),console.log(F),n.append("logo",F)),r={method:"PATCH",headers:{Authorization:J},body:n},e.next=10,fetch($,r).catch((function(e){return console.error(e)}));case 10:return 200!=(a=e.sent).status&&(W(!1),alert(a.status)),e.next=14,ce();case 14:e.sent,200==a.status&&(alert("Successfully updated Company's Details!"),W(!1),E||t.push("/Home"));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function oe(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),q(Object(i.a)(Object(i.a)({},G),{},Object(p.a)({},c,parseInt(n)))),console.log(G)}return z?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/Home",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Company Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return se(e)},children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Companys Name:"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter company's name",name:"company_name",value:R,onChange:function(e){return Y(e)}})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("h4",{className:"text-center mb-4",children:"Company's Logo"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:w}),Object(n.jsx)("input",{type:"file",name:"logo",onChange:function(e){return Y(e)},accept:"image/*"})]})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Manager"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{className:"form-control form-control-lg","aria-label":"Default select example",name:"manager",onChange:oe,children:[Object(n.jsx)("option",{selected:!0,children:h}),Z.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.first_name+" "+e.second_name})}))]})}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Deputy Director:"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("select",{className:"form-control form-control-lg","aria-label":"Default select example",name:"deputy_director",onChange:oe,children:[Object(n.jsx)("option",{selected:!0,children:f}),Z.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.first_name+" "+e.second_name})}))]})}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Update Details"})]})]})})},Z=c(488),X=c(209),Y=c(487),J=c(471),$=c(477),ee=c(486),te=c(485),ce=c(474),ne=c(275),re=c.n(ne),ae=c(237),se=c.n(ae);c(228),c(323),c(274);var oe=Object(D.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(.4)}},formControl:{margin:e.spacing(.4),minWidth:300},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(1)}}}));function ie(e){var t=oe();console.log("Token");e.tok;var c=Object(r.useState)(0),a=Object(l.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(!1),j=Object(l.a)(i,2),u=j[0],d=j[1],b=Object(r.useState)([{jobDescription:"",plan:"",actual:"",pricePerUnit:"",total:""}]),p=Object(l.a)(b,2),h=p[0],O=p[1],x=function(e){e.preventDefault(),d(!u),console.log("InputFields",h);for(var t=0,c=0,n=1,r=0;r<h.length;r++)n=h[r].pricePerUnit?Number(h[r].pricePerUnit):1,c=h[r].total?Number(h[r].total):0,c=Number(h[r].total),o(t+=c*n);console.log(s)},f=function(e,t){var c=Object(X.a)(h);c[e][t.target.name]=t.target.value,O(c)},g=function(){O([].concat(Object(X.a)(h),[{jobDescription:"",plan:"",actual:"",pricePerUnit:"",total:""}]))};return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{style:{direction:"rtl",textAlign:"center"},children:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e6\u05e2\u05ea \u05de\u05d7\u05d9\u05e8"}),Object(n.jsx)(F.a,{style:{direction:"rtl",justifyContent:"flex-end",display:"flex"},children:Object(n.jsxs)("form",{className:t.root,onSubmit:x,children:[h.map((function(e,c){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(J.a,{className:t.formControl,children:[Object(n.jsx)(te.a,{id:"demo-simple-select-helper-label",children:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05d4\u05e2\u05d1\u05d5\u05d3\u05d4"}),Object(n.jsxs)($.a,{name:"jobDescription",labelId:"demo-simple-select-helper-label",variant:"filled",value:e.jobDescription,onChange:function(e){return f(c,e)},children:[Object(n.jsx)(ee.a,{value:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05ea\u05d0\u05d5\u05e8\u05ea \u05e7\u05d9\u05e8/\u05ea\u05e7\u05e8\u05d0",style:{direction:"rtl"},children:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05ea\u05d0\u05d5\u05e8\u05ea \u05e7\u05d9\u05e8/\u05ea\u05e7\u05e8\u05d0"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05d9\u05d7\u05d9\u05d3 \u05e8\u05d2\u05d9\u05dc",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05d9\u05d7\u05d9\u05d3 \u05e8\u05d2\u05d9\u05dc"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05db\u05e4\u05d5\u05dc \u05e8\u05d2\u05d9\u05dc",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05db\u05e4\u05d5\u05dc \u05e8\u05d2\u05d9\u05dc"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05d9\u05d7\u05d9\u05d3 \u05de\u05d5\u05d2\u05df \u05de\u05d9\u05dd \u05e8\u05d2\u05d9\u05dc",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05d9\u05d7\u05d9\u05d3 \u05de\u05d5\u05d2\u05df \u05de\u05d9\u05dd \u05e8\u05d2\u05d9\u05dc"}),Object(n.jsxs)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05db\u05e4\u05d5\u05dc \u05e8\u05d2\u05d9\u05dc \u05de\u05d5\u05d2\u05df \u05de\u05d9\u05dd",style:{direction:"rtl"},children:["\u05e9\u05e7\u05e2 \u05db\u05e4\u05d5\u05dc \u05e8\u05d2\u05d9\u05dc \u05de\u05d5\u05d2\u05df \u05de\u05d9\u05dd"," "]}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05db'\u05d7 \u05d9\u05d7\u05d9\u05d3",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05db'\u05d7 \u05d9\u05d7\u05d9\u05d3"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05db'\u05d7 \u05db\u05e4\u05d5\u05dc",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05db'\u05d7 \u05db\u05e4\u05d5\u05dc"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 \u05d8\u05dc\u05e4\u05d5\u05df",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 \u05d8\u05dc\u05e4\u05d5\u05df"}),Object(n.jsx)(ee.a,{value:"\u05e9\u05e7\u05e2 TV",style:{direction:"rtl"},children:"\u05e9\u05e7\u05e2 TV"}),Object(n.jsx)(ee.a,{value:"\u05de\u05e4\u05e1\u05e7 \u05ea\u05e8\u05d9\u05e1",style:{direction:"rtl"},children:"\u05de\u05e4\u05e1\u05e7 \u05ea\u05e8\u05d9\u05e1"}),Object(n.jsx)(ee.a,{value:"\u05de\u05e4\u05e1\u05e7 \u05de\u05d7\u05dc\u05d9\u05e3",style:{direction:"rtl"},children:"\u05de\u05e4\u05e1\u05e7 \u05de\u05d7\u05dc\u05d9\u05e3"}),Object(n.jsx)(ee.a,{value:"\u05e0\u05e7' 3 \u05e4\u05d0\u05d6+ \u05e4\u05e7\u05d8",style:{direction:"rtl"},children:"\u05e0\u05e7' 3 \u05e4\u05d0\u05d6+ \u05e4\u05e7\u05d8"}),Object(n.jsx)(ee.a,{value:"\u05e8\u05de\u05e7\u05d5\u05dc\u05d9\u05dd",style:{direction:"rtl"},children:"\u05e8\u05de\u05e7\u05d5\u05dc\u05d9\u05dd"}),Object(n.jsx)(ee.a,{value:"\u05e4\u05dc\u05d0\u05d6\u05de\u05d4",style:{direction:"rtl"},children:"\u05e4\u05dc\u05d0\u05d6\u05de\u05d4"}),Object(n.jsx)(ee.a,{value:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05de\u05d7\u05e9\u05d1 \u05db\u05d5\u05dc\u05dc \u05e9\u05e7\u05e2",style:{direction:"rtl"},children:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05de\u05d7\u05e9\u05d1 \u05db\u05d5\u05dc\u05dc \u05e9\u05e7\u05e2"}),Object(n.jsx)(ee.a,{value:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d3\u05d5\u05d3 \u05d7\u05de\u05d5\u05dd \u05de\u05e4\u05e1\u05e7 \u05d3\u05d5 \u05e7\u05d8\u05d1\u05d9",style:{direction:"rtl"},children:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d3\u05d5\u05d3 \u05d7\u05de\u05d5\u05dd \u05de\u05e4\u05e1\u05e7 \u05d3\u05d5 \u05e7\u05d8\u05d1\u05d9"}),Object(n.jsx)(ee.a,{value:"\u05ea\u05e0\u05d5\u05e8 \u05d0\u05de\u05d1\u05d0\u05d8\u05d9\u05d4",style:{direction:"rtl"},children:"\u05ea\u05e0\u05d5\u05e8 \u05d0\u05de\u05d1\u05d0\u05d8\u05d9\u05d4"}),Object(n.jsx)(ee.a,{value:"\u05e4\u05e2\u05de\u05d5\u05df \u05db\u05dc\u05dc \u05dc\u05d7\u05e6\u05df",style:{direction:"rtl"},children:"\u05e4\u05e2\u05de\u05d5\u05df \u05db\u05dc\u05dc \u05dc\u05d7\u05e6\u05df"}),Object(n.jsx)(ee.a,{value:"\u05d0\u05e0\u05d8\u05e8\u05e7\u05d5\u05dd \u05d4\u05db\u05e0\u05d4 \u05d1\u05dc\u05d1\u05d3",style:{direction:"rtl"},children:"\u05d0\u05e0\u05d8\u05e8\u05e7\u05d5\u05dd \u05d4\u05db\u05e0\u05d4 \u05d1\u05dc\u05d1\u05d3"}),Object(n.jsx)(ee.a,{value:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d0\u05d6\u05e2\u05e7\u05d4 \u05d4\u05db\u05e0\u05d4 \u05d1\u05dc\u05d1\u05d3",style:{direction:"rtl"},children:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d0\u05d6\u05e2\u05e7\u05d4 \u05d4\u05db\u05e0\u05d4 \u05d1\u05dc\u05d1\u05d3"}),Object(n.jsx)(ee.a,{value:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d7\u05d9\u05de\u05d5\u05dd \u05e8\u05e6\u05e4\u05d4",style:{direction:"rtl"},children:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d7\u05d9\u05de\u05d5\u05dd \u05e8\u05e6\u05e4\u05d4"}),Object(n.jsx)(ee.a,{value:"\u05dc\u05d5\u05d7 \u05d7\u05e9\u05de\u05dc \u05e8\u05d0\u05e9\u05d9 \u05e7\u05d5\u05de\u05e4\u05dc\u05d8",style:{direction:"rtl"},children:"\u05dc\u05d5\u05d7 \u05d7\u05e9\u05de\u05dc \u05e8\u05d0\u05e9\u05d9 \u05e7\u05d5\u05de\u05e4\u05dc\u05d8"}),Object(n.jsx)(ee.a,{value:"\u05dc\u05d5\u05d7 \u05d7\u05e9\u05de\u05dc \u05de\u05e9\u05e0\u05d9 \u05e7\u05d5\u05de\u05e4\u05dc\u05d8",style:{direction:"rtl"},children:"\u05dc\u05d5\u05d7 \u05d7\u05e9\u05de\u05dc \u05de\u05e9\u05e0\u05d9 \u05e7\u05d5\u05de\u05e4\u05dc\u05d8"}),Object(n.jsx)(ee.a,{value:"\u05e8\u05d9\u05db\u05d5\u05d6 \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea",style:{direction:"rtl"},children:"\u05e8\u05d9\u05db\u05d5\u05d6 \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea"}),Object(n.jsx)(ee.a,{value:"\u05d4\u05d0\u05e8\u05e7\u05ea \u05d9\u05e1\u05d5\u05d3",style:{direction:"rtl"},children:"\u05d4\u05d0\u05e8\u05e7\u05ea \u05d9\u05e1\u05d5\u05d3"}),Object(n.jsx)(ee.a,{value:"\u05d4\u05ea\u05e7\u05e0\u05ea \u05d2\u05d5\u05e4\u05d9\u05dd",style:{direction:"rtl"},children:"\u05d4\u05ea\u05e7\u05e0\u05ea \u05d2\u05d5\u05e4\u05d9\u05dd"}),Object(n.jsx)(ee.a,{value:"\u05e7\u05d5\u05d9 \u05d4\u05d6\u05e0\u05d4 \u05dc\u05d1\u05d6\u05e7 \u05db\u05d5\u05dc\u05dc \u05e6\u05d9\u05e0\u05d5\u05e8 \u05db\u05d1\u05dc \u05d2\u05dc 5 \u05d6\u05d5\u05d2",style:{direction:"rtl"},children:"\u05e7\u05d5\u05d9 \u05d4\u05d6\u05e0\u05d4 \u05dc\u05d1\u05d6\u05e7 \u05db\u05d5\u05dc\u05dc \u05e6\u05d9\u05e0\u05d5\u05e8 \u05db\u05d1\u05dc \u05d2\u05dc 5 \u05d6\u05d5\u05d2"}),Object(n.jsx)(ee.a,{value:"\u05d4\u05db\u05e0\u05ea \u05e7\u05d5\u05d5 \u05db\u05d1\u05dc\u05d9\u05dd",style:{direction:"rtl"},children:"\u05d4\u05db\u05e0\u05ea \u05e7\u05d5\u05d5 \u05db\u05d1\u05dc\u05d9\u05dd"}),Object(n.jsx)(ee.a,{value:" \u05e7\u05d5\u05d9 \u05d4\u05d6\u05e0\u05d4 10 \u05db\u05e4\u05d5\u05dc 5 \u05e8\u05d0\u05e9\u05d9",style:{direction:"rtl"},children:"\u05e7\u05d5\u05d9 \u05d4\u05d6\u05e0\u05d4 10 \u05db\u05e4\u05d5\u05dc 5 \u05e8\u05d0\u05e9\u05d9"}),Object(n.jsx)(ee.a,{value:"\u05d4\u05db\u05e0\u05ea \u05d7\u05e9\u05de\u05dc \u05d6\u05de\u05e0\u05d9",style:{direction:"rtl"},children:"\u05d4\u05db\u05e0\u05ea \u05d7\u05e9\u05de\u05dc \u05d6\u05de\u05e0\u05d9"})]})]}),Object(n.jsx)(Y.a,{type:"number",name:"plan",label:"\u05d1\u05ea\u05d5\u05db\u05e0\u05d9\u05ea",variant:"filled",value:e.plan,onChange:function(e){return f(c,e)}}),Object(n.jsx)(Y.a,{type:"number",name:"actual",label:"\u05d1\u05e4\u05d5\u05e2\u05dc",variant:"filled",value:e.actual,onChange:function(e){return f(c,e)}}),Object(n.jsx)(Y.a,{type:"number",name:"pricePerUnit",label:"\u05de\u05d7\u05d9\u05e8 \u05d9\u05d7\u05d9\u05d3\u05d4",variant:"filled",value:e.pricePerUnit,onChange:function(e){return f(c,e)}}),Object(n.jsx)(Y.a,{name:"total",label:"\u05e1\u05db\u05d5\u05dd",variant:"filled",value:e.total,onChange:function(e){return f(c,e)}}),0==c?Object(n.jsx)(ce.a,{onClick:function(){return g()},children:Object(n.jsx)(se.a,{})}):Object(n.jsx)(ce.a,{onClick:function(){return function(e){var t=Object(X.a)(h);t.splice(e,1),O(t)}(c)},children:Object(n.jsx)(re.a,{})}),Object(n.jsx)(ce.a,{onClick:function(){return g()},children:Object(n.jsx)(se.a,{})})]},c)})),Object(n.jsxs)("h1",{style:{direction:"rtl",textAlign:"left"},children:['\u05e1\u05d4"\u05db \u05db\u05d5\u05dc\u05dc:'," "+s]})]})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:Object(n.jsx)(m.a,{size:"big",color:"black",type:"submit",icon:"save",onClick:x,style:{marginLeft:"10px"}})})]})}function le(e){var t=[{menuItem:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e6\u05e2\u05ea \u05de\u05d7\u05d9\u05e8 \u05de\u05ea\u05d5\u05da \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05d7\u05e9\u05de\u05dc",render:function(){return Object(n.jsx)(Z.a.Pane,{attached:!1,children:"Tab 2 Content"})}},{menuItem:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05e6\u05e2\u05ea \u05de\u05d7\u05d9\u05e8 \u05d9\u05d3\u05e0\u05d9\u05ea",render:function(){return Object(n.jsx)(ie,{})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Price Quote",token:e.token}),Object(n.jsx)(Z.a,{menu:{color:"black",inverted:!0,attached:!1,tabular:!1,style:{marginTop:"-14px",display:"flex",justifyContent:"center"}},panes:t})]})}var je=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1],"Token "+e.token+" "),O={method:"GET",headers:{"Content-Type":"application/json",Authorization:h}};Object(r.useEffect)((function(){e.token&&x()}),[e.token]);var x=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/worker/",O).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Workers Management",token:e.token}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-4",children:[Object(n.jsx)("h1",{children:"List Of Workers:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Last Name"}),Object(n.jsx)("th",{scope:"col",children:"ID"}),Object(n.jsx)("th",{scope:"col",children:"Phone"}),Object(n.jsx)("th",{scope:"col",children:"Email"}),Object(n.jsx)("th",{scope:"col",children:"Profile"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/workers/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.first_name}),Object(n.jsx)("td",{children:e.second_name}),Object(n.jsx)("td",{children:e.id_no}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:Object(n.jsx)(M,{avatarUrl:e.image})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/workers/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/workers/edit/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/workers/delete/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})]})},ue=c(201),de=(c(214),function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1],Object(r.useState)(!1)),o=Object(l.a)(s,2),d=o[0],b=o[1],h=Object(r.useState)(),m=Object(l.a)(h,2),O=m[0],x=m[1],f=Object(r.useState)(),v=Object(l.a)(f,2),k=v[0],y=v[1],w=Object(r.useState)(),C=Object(l.a)(w,2),S=C[0],A=C[1],E=Object(r.useState)(),T=Object(l.a)(E,2),P=T[0],D=T[1],F=Object(r.useState)(),I=Object(l.a)(F,2),U=I[0],L=I[1],z=Object(r.useState)(),W=Object(l.a)(z,2),H=W[0],B=W[1],G=Object(r.useState)(),q=Object(l.a)(G,2),R=q[0],V=q[1],Q=Object(r.useState)(),Z=Object(l.a)(Q,2),X=Z[0],Y=Z[1],J=Object(r.useState)(),$=Object(l.a)(J,2),ee=$[0],te=$[1],ce=Object(r.useState)({first_name:"",second_name:"",password:"",phone:"",id_no:"",id_img:"",driving_license_img:"",work_license_israel:"",work_license_type:"",work_license_expire:"",age:"",address:"",pay_per_day:"",email:"",image:"",is_admin:""}),ne=Object(l.a)(ce,2),re=ne[0],ae=ne[1],se=re.first_name,oe=re.second_name,ie=re.password,le=re.phone,je=re.id_no,de=re.id_img,be=re.driving_license_img,pe=re.work_license_israel,he=(re.work_license_type,re.work_license_expire),me=re.age,Oe=re.address,xe=re.pay_per_day,fe=re.email,ge=re.image,ve=re.is_admin,ke=function(e){console.log(e.target.value),"file"==e.target.type&&(alert(e.target.name),ae(Object(i.a)(Object(i.a)({},re),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&x(e.target.result),"id_img"==t&&y(e.target.result),"driving_license_img"==t&&A(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&D(e.target.files[0]),"id_img"==t&&L(e.target.files[0]),"driving_license_img"==t&&B(e.target.files[0])}(e,e.target.name)),ae(Object(i.a)(Object(i.a)({},re),{},Object(p.a)({},e.target.name,e.target.value)))},ye="Token "+e.token+" ",Ne="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload";function _e(){var e=new FormData;return e.append("first_name",re.first_name),e.append("second_name",re.second_name),e.append("password",re.password),e.append("password2",re.password),e.append("phone",re.phone),e.append("id_no",re.id_no),e.append("work_license_israel",re.work_license_israel),e.append("work_license_type",re.work_license_type),e.append("work_license_expire",re.work_license_expire),e.append("age",re.age),e.append("address",re.address),e.append("pay_per_day",re.pay_per_day),e.append("email",re.email),e.append("is_admin",re.is_admin),P&&(!function(){console.log(P);var e=new FormData;e.append("file",P),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),b(!0),fetch(Ne,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){V(e.url)})).catch((function(e){return alert("error while uploading...")})),b(!1)}(),console.log(R),e.append("image",R)),U&&(!function(){console.log(P);var e=new FormData;e.append("file",P),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),b(!0),fetch(Ne,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){Y(e.url)})).catch((function(e){return alert("error while uploading...")})),b(!1)}(),console.log(X),e.append("id_img",X)),H&&(!function(){console.log(P);var e=new FormData;e.append("file",P),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),b(!0),fetch(Ne,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){te(e.url)})).catch((function(e){return alert("error while uploading...")})),b(!1)}(),console.log(ee),e.append("driving_license_img",ee)),{method:"POST",headers:{Authorization:ye},body:e}}var we=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),se&&oe){e.next=4;break}return alert("please provide worker name and last name..."),e.abrupt("return");case 4:if(ie&&le){e.next=7;break}return alert("please provide phone number and password..."),e.abrupt("return");case 7:if(/^0(5[^7]|[2-4]|[8-9]|7[0-9])[0-9]{7}$/.test(le)){e.next=11;break}return alert("please enter a valid phone number..."),e.abrupt("return");case 11:if(ve){e.next=14;break}return alert("please  set user type..."),e.abrupt("return");case 14:if(ge&&de&&be){e.next=17;break}return alert("please upload worker profile pic,id and license..."),e.abrupt("return");case 17:if(!(je.length>10)){e.next=20;break}return alert("ID has more than 10 digits."),e.abrupt("return");case 20:return e.next=22,fetch("https://hashmali-backend.herokuapp.com/api/worker/register/",_e()).catch((function(e){return console.error(e)}));case 22:(n=e.sent).status&&(201!=n.status&&alert(n.status),201==n.status&&(alert("Successfully created worker!"),t.push("/workers_management")));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/workers_management",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Fill in Worker Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return we(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker First Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker first name",name:"first_name",value:se,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker last name",name:"second_name",value:oe,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter worker password",name:"password",value:ie,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Phone Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker phone number",name:"phone",value:le,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker email",name:"email",value:fe,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:O}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return ke(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Is an admin?"}),Object(n.jsxs)("select",{className:"form-control form-control-lg",name:"is_admin",value:ve,onChange:function(e){return ke(e)},children:[Object(n.jsx)("option",{children:"Choosing"}),Object(n.jsx)("option",{value:"false",children:"No"}),Object(n.jsx)("option",{value:"true",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"age"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker age",name:"age",value:me,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"address"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker address",name:"address",value:Oe,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Pay per day"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker pay per day",name:"pay_per_day",value:xe,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Id"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker id",name:"id_no",value:je,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:k}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload Id image"}),Object(n.jsx)("input",{type:"file",className:"form-control form-control-lg",placeholder:"Upload worker image",name:"id_img",onChange:function(e){return ke(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:S}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload driving license image"}),Object(n.jsx)("input",{type:"file",className:"form-control form-control-lg",placeholder:"Upload worker driving license image",name:"driving_license_img",onChange:function(e){return ke(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Israel Work license"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"worker work license israel",name:"work_license_israel",value:pe,onChange:function(e){return ke(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Israel Work license due date"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Upload worker work license expire date",name:"work_license_expire",value:he,onChange:function(e){return ke(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Worker"})]})]})})}),be=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x="Token "+e.token+" ",f="https://hashmali-backend.herokuapp.com/api/worker/"+O+"/edit/",v={method:"GET",headers:{"Content-Type":"application/json",Authorization:x}};Object(r.useEffect)((function(){e.token&&k()}),[e.token]);var k=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(f,v).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),m(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/workers_management",children:"Back to Home"}),Object(n.jsx)("h1",{className:"display-5",children:a.first_name+" "+a.second_name}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Profile: ",Object(n.jsx)(M,{avatarUrl:a.image})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Email: ",a.email]}),Object(n.jsxs)("li",{className:"list-group-item",children:["phone: ",a.phone]}),Object(n.jsxs)("li",{className:"list-group-item",children:["ID: ",a.id_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["ID image: ",Object(n.jsx)(M,{avatarUrl:a.id_img})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Type: ",a.is_admin]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Age: ",a.age]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Address: ",a.address]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Pay Per Day: ",a.pay_per_day]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Driving License Image:",Object(n.jsx)(M,{avatarUrl:a.driving_license_img})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Image: ",a.work_license_israel]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Type: ",a.work_license_type]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Expire: ",a.work_license_expire]})]})]})},pe=function(e){var t=Object(u.f)(),c=Object(u.g)().id,a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(),h=Object(l.a)(b,2),m=h[0],O=h[1],x=Object(r.useState)(),f=Object(l.a)(x,2),v=f[0],k=f[1],y=Object(r.useState)(),w=Object(l.a)(y,2),C=w[0],S=w[1],A=Object(r.useState)(),E=Object(l.a)(A,2),T=E[0],P=E[1],D=Object(r.useState)(),F=Object(l.a)(D,2),I=F[0],U=F[1],L=Object(r.useState)(),z=Object(l.a)(L,2),W=z[0],H=z[1],B=Object(r.useState)(!1),G=Object(l.a)(B,2),q=G[0],R=G[1],V=Object(r.useState)(""),K=Object(l.a)(V,2),Q=K[0],Z=K[1],X=Object(r.useState)(),Y=Object(l.a)(X,2),J=Y[0],$=Y[1],ee=Object(r.useState)(),te=Object(l.a)(ee,2),ce=te[0],ne=te[1],re=Object(r.useState)({first_name:"",second_name:"",password:"",phone:"",id_no:"",id_img:"",driving_license_img:"",work_license_israel:"",work_license_type:"",work_license_expire:"",age:"",address:"",pay_per_day:"",email:"",image:"",is_admin:""}),ae=Object(l.a)(re,2),se=ae[0],oe=ae[1],ie=se.first_name,le=se.second_name,je=se.password,de=se.phone,be=se.id_no,pe=(se.id_img,se.driving_license_img,se.work_license_israel,se.work_license_type,se.work_license_expire),he=se.age,me=se.address,Oe=se.pay_per_day,xe=se.email,fe=(se.image,se.is_admin),ge=function(e){"file"==e.target.type&&(alert(e.target.name),oe(Object(i.a)(Object(i.a)({},se),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&O(e.target.result),"id_img"==t&&k(e.target.result),"driving_license_img"==t&&S(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&P(e.target.files[0]),"id_img"==t&&U(e.target.files[0]),"driving_license_img"==t&&H(e.target.files[0])}(e,e.target.name)),oe(Object(i.a)(Object(i.a)({},se),{},Object(p.a)({},e.target.name,e.target.value)))},ve="Token "+e.token+" ",ke="https://hashmali-backend.herokuapp.com/api/worker/"+c+"/edit/",ye="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload",Ne={method:"GET",headers:{"Content-Type":"application/json",Authorization:ve}};function _e(){var e=new FormData;return e.append("first_name",se.first_name),e.append("second_name",se.second_name),je&&(e.append("password",se.password),e.append("password2",se.password)),e.append("phone",se.phone),e.append("id_no",se.id_no),e.append("work_license_israel",se.work_license_israel),e.append("work_license_type",se.work_license_type),e.append("work_license_expire",se.work_license_expire),e.append("age",se.age),e.append("address",se.address),e.append("pay_per_day",se.pay_per_day),e.append("email",se.email),e.append("is_admin",se.is_admin),T&&function(){console.log(T);var e=new FormData;e.append("file",T),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),R(!0),fetch(ye,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){Z(e.url)})).catch((function(e){return alert("error while uploading...")})),R(!1)}(),I&&function(){console.log(T);var e=new FormData;e.append("file",I),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),R(!0),fetch(ye,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){$(e.url)})).catch((function(e){return alert("error while uploading...")})),R(!1)}(),W&&function(){console.log(T);var e=new FormData;e.append("file",W),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),R(!0),fetch(ye,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){ne(e.url)})).catch((function(e){return alert("error while uploading...")})),R(!1)}(),{method:"PATCH",headers:{Authorization:ve},body:e}}Object(r.useEffect)((function(){e.token&&we()}),[e.token]),Object(r.useEffect)((function(){Q&&(!function(){var e=new FormData;e.append("image",Q);var t={method:"PATCH",headers:{Authorization:ve},body:e};R(!0),fetch(ke,t).then((function(e){return e.json()})).then((function(e){Z(e.url)})).catch((function(e){return alert("error while updating...")})),R(!1)}(),we())}),[Q]),Object(r.useEffect)((function(){J&&(!function(){var e=new FormData;e.append("id_img",J);var t={method:"PATCH",headers:{Authorization:ve},body:e};R(!0),fetch(ke,t).then((function(e){return e.json()})).then((function(e){$(e.url)})).catch((function(e){return alert("error while updating...")})),R(!1)}(),we())}),[J]),Object(r.useEffect)((function(){ce&&(!function(){var e=new FormData;e.append("driving_license_img",ce);var t={method:"PATCH",headers:{Authorization:ve},body:e};R(!0),fetch(ke,t).then((function(e){return e.json()})).then((function(e){ne(e.url)})).catch((function(e){return alert("error while updating...")})),R(!1)}(),we())}),[ce]);var we=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,fetch(ke,Ne).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),R(!1),e.next=8,t.json();case 8:c=e.sent,oe(c),O(c.image),k(c.id_img),S(c.driving_license_img);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(o);var Ce=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),/^0(5[^7]|[2-4]|[8-9]|7[0-9])[0-9]{7}$/.test(de)){e.next=5;break}return alert("please enter a valid phone number..."),e.abrupt("return");case 5:if(fe){e.next=8;break}return alert("please  set user type..."),e.abrupt("return");case 8:if(xe){e.next=11;break}return alert("please  enter email..."),e.abrupt("return");case 11:if(he){e.next=14;break}return alert("please  enter worker age..."),e.abrupt("return");case 14:if(!be){e.next=18;break}if(!(be.length>10)){e.next=18;break}return alert("ID has more than 10 digits."),e.abrupt("return");case 18:return R(!0),e.next=21,fetch(ke,_e()).catch((function(e){return console.error(e)}));case 21:return 200!=(n=e.sent).status&&alert(n.status),R(!1),e.next=26,we();case 26:e.sent,200==n.status&&(alert("Successfully updated worker!"),t.push("/workers_management"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return q?Object(n.jsx)(g,{}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/workers_management",children:"Back to Workers"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Worker Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return Ce(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker First Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker first name",name:"first_name",value:ie,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker last name",name:"second_name",value:le,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter worker password",name:"password",value:je,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Phone Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker phone number",name:"phone",value:de,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker email",name:"email",value:xe,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:m}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return ge(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Is an admin?"}),Object(n.jsxs)("select",{className:"form-control form-control-lg",name:"is_admin",value:fe,onChange:function(e){return ge(e)},children:[Object(n.jsx)("option",{children:"Choosing"}),Object(n.jsx)("option",{value:"false",children:"No"}),Object(n.jsx)("option",{value:"true",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"age"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker age",name:"age",value:he,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"address"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker address",name:"address",value:me,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Pay per day"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker pay per day",name:"pay_per_day",value:Oe,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Id"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter worker id",name:"id_no",value:be,onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload Id image"}),Object(n.jsx)(M,{avatarUrl:v}),Object(n.jsx)("input",{type:"file",className:"form-control form-control-lg",placeholder:"Upload worker image",name:"id_img",onChange:function(e){return ge(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:C}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload driving license image"}),Object(n.jsx)("input",{type:"file",className:"form-control form-control-lg",placeholder:"Upload worker driving license image",name:"driving_license_img",onChange:function(e){return ge(e)},accept:"image/*"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Israel Work license"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Upload worker work license israel",name:"work_license_israel",onChange:function(e){return ge(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Israel Work license due date"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Upload worker work license expire date",name:"work_license_expire",value:pe,onChange:function(e){return ge(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Update Worker"})]})]})})},he=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x=Object(u.f)(),f="Token "+e.token+" ",v="https://hashmali-backend.herokuapp.com/api/worker/"+O+"/edit/",k={method:"GET",headers:{"Content-Type":"application/json",Authorization:f}},y={method:"DELETE",headers:{Authorization:f}};Object(r.useEffect)((function(){e.token&&C()}),[e.token]);var w=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,y).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Succesffully deleted worker!"),x.push("/workers_management"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(v,k).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,m(!1),s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete"," ",a.first_name+" "+a.second_name,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/workers_management",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return w(O)},children:"Confirm Delete"}),Object(n.jsx)("h1",{className:"display-5"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Profile: ",Object(n.jsx)(M,{avatarUrl:a.image})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Email: ",a.email]}),Object(n.jsxs)("li",{className:"list-group-item",children:["phone: ",a.phone]}),Object(n.jsxs)("li",{className:"list-group-item",children:["ID: ",a.id_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["ID image: ",Object(n.jsx)(M,{avatarUrl:a.id_img})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Type: ",a.is_admin]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Age: ",a.age]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Address: ",a.address]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Pay Per Day: ",a.pay_per_day]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Driving License Image: ",a.driving_license_img]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Image: ",a.work_license_israel]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Type: ",a.work_license_type]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Work License Expire: ",a.work_license_expire]})]})]})},me=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1],"Token "+e.token+" "),O={method:"GET",headers:{"Content-Type":"application/json",Authorization:h}};Object(r.useEffect)((function(){e.token&&x()}),[e.token]);var x=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/report/",O).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Reports",token:e.token}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-5",style:{width:"1250px",marginLeft:"-100px"},children:[Object(n.jsx)("h1",{children:"Reports:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Worker"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Start hour"}),Object(n.jsx)("th",{scope:"col",children:"Ending hour"}),Object(n.jsx)("th",{scope:"col",children:"Project"}),Object(n.jsx)("th",{scope:"col",children:"Image"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/reports/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.worker.first_name+" "+e.worker.second_name}),Object(n.jsx)("td",{children:e.description}),Object(n.jsx)("td",{children:e.date}),Object(n.jsx)("td",{children:e.start_hour}),Object(n.jsx)("td",{children:e.ending_hour}),e.project.project_code,Object(n.jsx)("td",{children:Object(n.jsx)(M,{avatarUrl:e.image})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/reports/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/reports/edit/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/reports/delete/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})]})},Oe=c(90),xe=c.n(Oe),fe=c(475),ge=(c(166),c(50)),ve=c.n(ge),ke=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(r.useState)([]),O=Object(l.a)(m,2),x=O[0],f=O[1],v=Object(r.useState)(new Date),k=Object(l.a)(v,2),y=k[0],w=k[1],C=Object(r.useState)(""),S=Object(l.a)(C,2),A=S[0],E=S[1],T=Object(r.useState)(""),P=Object(l.a)(T,2),D=P[0],F=P[1],I=Object(r.useState)(),U=Object(l.a)(I,2),L=U[0],z=U[1],W=Object(r.useState)(),H=Object(l.a)(W,2),B=H[0],G=H[1],q=Object(r.useState)(),R=Object(l.a)(q,2),V=R[0],Q=R[1],Z=Object(r.useState)({title:"",description:"",project:"",image:""}),X=Object(l.a)(Z,2),Y=X[0],J=X[1],$=Y.title,ee=Y.description,te=Y.project,ce=Y.image,ne=function(e){console.log(e.target.value),"file"==e.target.type&&(alert(e.target.name),J(Object(i.a)(Object(i.a)({},Y),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&z(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&G(e.target.files[0])}(e,e.target.name)),J(Object(i.a)(Object(i.a)({},Y),{},Object(p.a)({},e.target.name,e.target.value)))};var re="Token "+e.token+" ",ae=e.id,se="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload";function oe(){var e=new FormData;e.append("title",Y.title),e.append("worker",ae),e.append("description",Y.description);var t=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate();console.log(t),e.append("date",t);var c=A.hour()+":"+A.minute()+":"+A.seconds();e.append("start_hour",c);var n=D.hour()+":"+D.minute()+":"+D.seconds();return e.append("ending_hour",n),e.append("project",Y.project),e.append("image",Y.image),B&&(!function(){console.log(B);var e=new FormData;e.append("file",B),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),h(!0),fetch(se,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){Q(e.url)})).catch((function(e){return alert("error while uploading...")})),h(!1)}(),console.log(V),e.append("image",V)),{method:"POST",headers:{Authorization:re},body:e}}var ie={method:"GET",headers:{"Content-Type":"application/json",Authorization:re}},le=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),$){e.next=4;break}return alert("please provide report title..."),e.abrupt("return");case 4:if(ee){e.next=7;break}return alert("please provide report details..."),e.abrupt("return");case 7:if(y){e.next=10;break}return alert("please provide date..."),e.abrupt("return");case 10:if(A){e.next=13;break}return alert("please provide start time..."),e.abrupt("return");case 13:if(D){e.next=16;break}return alert("please provide finish time..."),e.abrupt("return");case 16:if(!(A&&D&&D.isBefore(A))){e.next=19;break}return alert("finish hour can't be greater than start time..."),e.abrupt("return");case 19:if(ce){e.next=22;break}return alert("please upload image..."),e.abrupt("return");case 22:if(te){e.next=25;break}return alert("please choose a project..."),e.abrupt("return");case 25:return e.next=27,fetch("https://hashmali-backend.herokuapp.com/api/report/create/",oe()).catch((function(e){return console.error(e)}));case 27:(n=e.sent).status&&(201!=n.status&&alert(n.status),201==n.status&&(alert("Successfully created report!"),t.push("/reports")));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",ie).catch((function(e){return console.error(e)}));case 2:return t=e.sent,s(t.status),e.next=6,t.json();case 6:c=e.sent,f(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e.token&&je()}),[e.token]),b?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/reports",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Fill in Report Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return le(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter report title",name:"title",value:$,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter report content",name:"description",value:ee,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Date"}),Object(n.jsx)(xe.a,{className:"form-control form-control-lg",value:y,onChange:function(e){return w(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Start Hour"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(fe.a,{className:"form-control form-control-lg",defaultOpenValue:ve()("00:00:00","HH:mm:ss"),onChange:function(e){return E(e)}})})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Finish Hour"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(fe.a,{className:"form-control form-control-lg",defaultOpenValue:ve()("00:00:00","HH:mm:ss"),onChange:function(e){return F(e)}})})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:function(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),J(Object(i.a)(Object(i.a)({},Y),{},Object(p.a)({},c,parseInt(n)))),console.log(Y)},children:[Object(n.jsx)("option",{children:"please choose a project:"}),x?x.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Photo"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:L}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return ne(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Report"})]})]})})},ye=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x="Token "+e.token+" ",f="https://hashmali-backend.herokuapp.com/api/report/"+O+"/update/",v={method:"GET",headers:{"Content-Type":"application/json",Authorization:x}};Object(r.useEffect)((function(){e.token&&k()}),[e.token]);var k=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(f,v).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),m(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/reports",children:"Back to Home"}),Object(n.jsxs)("h1",{className:"display-5",children:[" ","Title: "+a.title]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:[" ","Photo: ",Object(n.jsx)(M,{avatarUrl:a.image})]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Worker: ",a.worker]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",a.project]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Report Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.date]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Start Hour: ",a.start_hour]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Finish Hour: ",a.ending_hour," "]})})]})]})},Ne=function(e){var t=Object(u.f)(),c=Object(u.g)().id,a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(),h=Object(l.a)(b,2),m=h[0],O=h[1],x=Object(r.useState)(),f=Object(l.a)(x,2),v=f[0],k=f[1],y=Object(r.useState)(!1),w=Object(l.a)(y,2),C=w[0],S=w[1],A=Object(r.useState)(""),E=Object(l.a)(A,2),T=E[0],P=E[1],D=Object(r.useState)([]),F=Object(l.a)(D,2),I=F[0],U=F[1],L=Object(r.useState)({title:"",description:"",project:"",image:""}),z=Object(l.a)(L,2),W=z[0],H=z[1],B=W.title,G=W.description,q=W.project,R=W.image,V=function(e){"file"==e.target.type&&(alert(e.target.name),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&O(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&k(e.target.files[0])}(e,e.target.name)),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},e.target.name,e.target.value)))};var Q="Token "+e.token+" ",Z=e.id,X="https://hashmali-backend.herokuapp.com/api/report/"+c+"/update/",Y="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload",J={method:"GET",headers:{"Content-Type":"application/json",Authorization:Q}},$={method:"GET",headers:{"Content-Type":"application/json",Authorization:Q}};function ee(){var e=new FormData;return e.append("title",W.title),e.append("worker",Z),e.append("description",W.description),e.append("project",W.project),v&&function(){console.log(v);var e=new FormData;e.append("file",v),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),S(!0),fetch(Y,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){P(e.url)})).catch((function(e){return alert("error while uploading...")})),S(!1)}(),{method:"PATCH",headers:{Authorization:Q},body:e}}var te=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",$).catch((function(e){return console.error(e)}));case 2:return t=e.sent,d(t.status),e.next=6,t.json();case 6:c=e.sent,U(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){e.token&&(ce(),te())}),[e.token]),Object(r.useEffect)((function(){T&&function(){var e=new FormData;e.append("image",T);var t={method:"PATCH",headers:{Authorization:Q},body:e};S(!0),fetch(X,t).then((function(e){return e.json()})).then((function(e){P(e.url)})).catch((function(e){return alert("error while updating...")})),S(!1)}()}),[T]);var ce=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,fetch(X,J).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),S(!1),e.next=8,t.json();case 8:c=e.sent,H(c),O(c.image);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(o);var ne=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),B){e.next=4;break}return alert("please provide report title..."),e.abrupt("return");case 4:if(G){e.next=7;break}return alert("please provide report details..."),e.abrupt("return");case 7:if(R){e.next=10;break}return alert("please upload image..."),e.abrupt("return");case 10:if(q){e.next=13;break}return alert("please choose a project..."),e.abrupt("return");case 13:return S(!0),e.next=16,fetch(X,ee()).catch((function(e){return console.error(e)}));case 16:return 200!=(n=e.sent).status&&alert(n.status),S(!1),e.next=21,ce();case 21:e.sent,200==n.status&&(alert("Successfully Edited report!"),t.push("/reports"));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return C?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/reports",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Report Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return ne(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter report title",name:"title",value:B,onChange:function(e){return V(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter report content",name:"description",value:G,onChange:function(e){return V(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:function(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},c,parseInt(n)))),console.log(W)},children:[Object(n.jsx)("option",{selected:!0,children:W.project}),I?I.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Photo"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:m}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return V(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Update Report"})]})]})})},_e=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x=Object(u.f)(),f="Token "+e.token+" ",v="https://hashmali-backend.herokuapp.com/api/report/"+O+"/update/",k={method:"GET",headers:{"Content-Type":"application/json",Authorization:f}},y={method:"DELETE",headers:{Authorization:f}};Object(r.useEffect)((function(){e.token&&C()}),[e.token]);var w=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,y).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Successfully deleted report!"),x.push("/reports"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(v,k).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,m(!1),s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete this report-",a.title,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/reports",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return w(O)},children:"Confirm Delete"}),Object(n.jsxs)("h1",{className:"display-5",children:[" ","Title: "+a.title]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:[" ","Photo: ",Object(n.jsx)(M,{avatarUrl:a.image})]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Worker: ",a.worker]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",a.project]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Report Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.date]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Start Hour: ",a.start_hour]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Finish Hour: ",a.ending_hour," "]})})]})]})},we=c(283),Ce=c(476),Se=c(479);function Ae(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(""),j=Object(l.a)(i,2),b=j[0],p=j[1],h=Object(r.useState)(!1),x=Object(l.a)(h,2),f=x[0],v=x[1];return f?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsxs)(K.a.Column,{style:{maxWidth:450},children:[Object(n.jsx)(O.a,{as:"h2",color:"black",textAlign:"center",children:"Log-in to your account"}),Object(n.jsx)(we.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATcAAAEUCAYAAABOGnGqAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADA5JREFUeNrs3SF0HMcZB/BxTAIvLCwnVhaZlXnNUhSZtSgKa1EUWBQFFapBhUpQX5Fs1iCdWJlkFqYLC5PCEuTu5FaxbEun03nvbueb3++9eXLz8hprdvd/3zc7u5cSAAAAAAAAAAAAAAAAAAAAAAAAAAB0HpgCNqi55c83uWzH2Q1/BuHGRozasd2F10ftGC8QZIu6CrlpO150fz7r/jnCDXp1FV6Pu5/jDfwdcsBN2nHS/RR2wFJyZXbQjtN2vBzgyH+vvQ0FLVBghbbfjvOBBtpdQTdyCIHrdtpxXFig3TaOUn/rf0CBRl21U1qVtujIv9euwwx1hVpuPS+ChpqQgwrtVRRqQg4q0ARuP+87jpM1OSjeOM0W2IXa2+MgubsKWtCgI8/PjlMFyjBKcbZ1rGscquJg2HZUa+90w2HbKQTDsy+gehl7TiXQhkZuU4ENym3UqTBa2fOq1uFgQ8FmfW31ATd2qoFgi7pdxI0GWAN3RAUchNMIGgEHWlFDwAXjOxRiBlve7uHu3ebl727YSr7DQbjxznKgnQu2QclfVvNEwK3fe6YgVLCp2IZZSdvouwEPTUEY/2rHJ6ZhkP7Qfeh8byrgfvIzjhbxhz+8MmmNrLnFaHtOTUMR8rrbo3ZMTYVwY75R8thPac66gGPFrLmVLa+zNaahKB92RcXEVMDN8vqNdaxyhw2+2lK0o9pTtKW1+Eey7SNCe/pzO/5nKlRuzLg7GofHs1RuXPNv7WgY73cV3HNToXKrXZNmj1gRS67epqZB5Vazo+6TnlhGqjdqtptsn4g8LDX0zFtByvGZKQjtK1PQL2tuZWiStbYaWHtTuVXnC1OgekPlFs04zd6uS3z2vancVG2ElO+aeuebyq0aF8mrw2vimVOVWxV2BFt18uN1Y9Mg3KL71BRUyVKEtlRLSkjTNLuxgMpNS0ooY62pcNOSEvnDDeEWUmMKfLixPGtuw21LbNzF9alyU7XhPEC4leCxKUC4CbeIfO0b2cemQE8fzUtTQLLfTeWmFSGocbLXUbgFO6HhiiUK4SbcEG4ItyGziMx12lLh5mTGhx3CTVuKDzvhhnCD8tjnNjz2uOE6VbkBCLcSNKYAhBuAcAOEG4BwAxBuAGti/8yw5N3oF6YB16lJi8gmXlyn2lIIb2oKhFsUl6YA4SbcIjozBSDcILoTUyDcnMyAcBswa25cNzEFwi0Ka25cNzUFy7F/Znhs5MU1qnIL25b6tEZLKty0pjgPEG6lcMcU54Fw047gPEC4ldSO2BLiHHAOCDef2jj+CLdSPDcFjj/Ls4dmuOx3q1duRz8wDSq3yCf4M9NQJcdduGlNcNzRlmpNKcG0HVumQeVWQ2v6rWnQkqJyi6hpx7FpqMZW8myxyq0SEyd7VVWbY92Th6agCD+3Y8c0hPc34aYtrVG+sTAyDWHlx60emQZtaY2+MQWOLyq3iHLVdq56Cym3orZ/9MyaWzl+acev7fjEVITzeTt+MA0qt9rl6m1sGsKYtOOJaeifNbfyfGkKQvnaFMAreVPvS6P4cehU1pbyunHXnlKu/GjdVvK23ZVxQ6HcCyN/MDWmolh/Sb7dCm51qrUrchw5dbWlzLfdBRzaUbSlofyUZs+d2vumHYWQjrR6RYwDpyrczyhZfxv6sHwAS8rrbxdCZJDDM8HwjhpBMrhx0X3wAO9oV6AManjJKPRoT6gMYuw6FaF/h8JFsIGAMwQbCDhDsMEw7AodwQZDkbcP7Au4YrZ7NE5ZmG/Uhdr1Fxr2tQHURt/VbNC1jw3u0HQXy02P7vQVcOPkUa2+xnEPx+WwOx4CkrAO0t3PJm6v8b9nzB99LBm8ebNnz2VAtLW1RSupvtd2drSpS7WhzQqCrc9qEDZu2ScJ+vyEHyVfOHOfN+iOVhhs1z/EPLZFkfoIlL4uNFXc+qq1+x5373+jKE2PIdL3OtzIWtyNa2ujnub2dMljPHbZELUNvauF6Xshelur+lvrOO5xPi+SfXQEbUNX/SrwvtvUqyqztpA77jlIdnus1N1NZVDuczd0KGtDNYbc0QrmbhUtfp+bumEQ62v3/SKS0YqCOtKD+Bc9t59Xxiv+QDsVcGzSbopxh++2Nnsvlfukw3F3fFYREOu66+z15WzEfhrWwvgqP+XH3e879KA77QJ5vKJ5GG2gqr1I3kTCGg2xbVvXRTDuAuQobX7P3Hl3LFZVob25/HC+wd9VwFFlsL3Zjq2zldnuLryDtNobEhfd//9B998br+n3W8ddcBt+l/TAFPR6kjeF/H2/bceX7bjc0FxtdwF0FUIfL1hd5b/vi+7PZ93/PtvQ75Er1K/SsBb283H93OVInxdriQvrF6m/3fc1aQZ+vA8dImoOtlU/4RDReEAtqIBj5Y5SnD1f58nC9G2hVuLePgHH0qJ+q5R2texQE3AItrSZ3fslrKlFetRMwLGwvQqC7aYtJJFfnnj1xMV50OMn4LjTToXB9mY1l/dTbQc6nrV8afW+y5fb+Fq8t29A7BUYdFeBVuOx3HUZc1Pb4uvw5gfdwUBb13F3UR8lH04vU0UvvfSEwmKOki/suI9JO07S7OmB/Od1PkHQdNXk4/TqSQheycfiSXdshFvl9pLn9t7VtBsn1/58NZZdIhilV49wfdz99AqgxZx1AXcZ+ZcUbne3NF4MuJ6L7a4Lbdtx6NWzdjwVbvXq+9ulYEjyyxP+GfWXe8/xnduOCjYiO4h8jqvctKPUbdqORyng+ttDx/ZGh6o2KpE/wN9vx/cqt/iaNHvcCGqS755OhFtsbiKgPdWWhrPbjr+aBiptT3+NVL2p3F6XHyMamwYqtpWW31w9KLaCvF61CTZqF+b1SCq3V6y1wUyImwsqt5lGsMHvvtKWxvGZKYDXPuwbbWn58l2iC9MAr5l07anKrWDe0wYBqzfhltKnpgBu9IW2VEsKURW77632yk1LCvPtakvL9Ni5C3MVu5Og9nBrnLsw1zgVugf0vcoP2ti5CzGrt5rDzRMJsJgi16aFGxCyNa053NxMgMU1wq0cvvwFAhcDNW/ifel8hYXl149/oHIDInY6Y+E2fI1zFe5NuAGKAuEGlOIj4QZoS4UbUIiitk8JN2BRRT2lINyAkIQbINwAhBsQUTHrbrWG28Q5Cksp5o6pB+eBkJlRc1t65jyFuGoOt0uHH4Sbyg0QboX40eGHe5kKN5UbCDfhtjET5yrcS1Hr1LVv4lW9weJeCDfVG2hLhdtGnThfIWa4Paj8YOVHSS6csxAvL2qv3PICqXU3CFa1CbeZ56YA7jQRbuV5ZgrgTi9K+wsLt1lbOjUNoHJTvUFdilybFm4z35kCiFO1CTetKSyiyP2gwk31BncpctnmgeP2u3E7zk0DvCZ3NFsqt/IP4sQ0QPlVm3DTmkLYa0Jb+rb8rOnINMBvW0A+ULnF8Y0pgLJbUuF2s29NAZTdkgq3m00FHJR/g024aU0hXEuauaFwu+N2NKaBSm2lwp/aUbnd7mtTQKUmKcDjiMJt/gGemAYqFGJZRls6X9O1p1CLaSr0cSuVm+oN5gmzHKNyu9s4eaAeVVtxHjqed8qPoOTHsf5oKgjuaQr0XkOV22JyuJ12VRxE9KwLtzBUbov5pR0/tuPPpoKg3cnT7qdwq9APXeW2bSoI5u/t+G+0X0pbqj1FO/o04i8m3O5vuws4KN20HY+itaPa0uX9lGbrbzumgoLlQPtTCvytb8JtOWfJ+htl+1sKuM6mLe2PN4dQos9TBe8sFG7vZtQFnAoOwSbcBBwINuEm4ECwLcUNhX7kJxj+044PBRwDc3VX9Fltv7hw6zfgnicP2TMc+a7+k+4n9CLvgctf7vzSMDY0DlyGrMo4zdbhXGjGOkd+92Dj8mMd9lRxxprGfrcsAmut4g5dfMaKxmHyMgc2bFuragg1ooecSs5YZlwINUppV/e7RWAXrjFv5Nds7VpTW5wnFIZVzX2WZttIfCqT5f1p36XZBtyp6RBuUYKuacfj7qdP6zrkAJu046T7KdCEWxXta9P9fNz9VN2V7bKrzPJ4IcyEG29XeKNrP1MXfjf9O6w/uK6cXGszL6/9BAAAAAAAAAAAAAAAAAAAAAAAAAAAAFjS/wUYAImn6FFWzuAVAAAAAElFTkSuQmCC",size:"small",centered:!0}),Object(n.jsx)(Ce.a,{size:"large",children:Object(n.jsxs)(d.a,{stacked:!0,children:[Object(n.jsx)(Ce.a.Input,{fluid:!0,icon:"phone",iconPosition:"left",placeholder:"Phone number",type:"text",value:s,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)(Ce.a.Input,{icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:b,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)(m.a,{color:"black",fluid:!0,size:"large",type:"submit",onClick:function(){if(b&&s){if(/^0(5[^7]|[2-4]|[8-9]|7[0-9])[0-9]{7}$/.test(s)){var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:b})};v(!0),fetch("https://hashmali-backend.herokuapp.com/api/worker/login/",c).then((function(e){return e.json()})).then((function(c){!function(c){c.token?(e.userLogin(c.token),e.userId(c.id),v(!1),t.push("/Home")):(alert("failed to login...please try again!"),v(!1))}(c)})).catch((function(e){return console.error(e)}))}else alert("please enter a valid phone number...")}else alert("please provide phone number and password...")},children:"Login"})]})}),Object(n.jsx)(Se.a,{children:"If you don't have an account please contact admin."})]})})}var Ee=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1],"Token "+e.token+" "),O={method:"GET",headers:{"Content-Type":"application/json",Authorization:h}};Object(r.useEffect)((function(){e.token&&x()}),[e.token]);var x=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/finance/incomes/",O).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsx)("div",{children:Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-5",children:[Object(n.jsx)("h1",{children:"Incomes:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Amount"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col",children:"Project"}),Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Image"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/finance/incomes/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.amount}),Object(n.jsx)("td",{children:e.description}),e.project.project_code,Object(n.jsx)("td",{children:e.month}),Object(n.jsx)("td",{children:Object(n.jsx)(M,{avatarUrl:e.image})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/finance/incomes/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/finance/incomes/edit/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/finance/incomes/delete/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})},Te=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1],"Token "+e.token+" "),O={method:"GET",headers:{"Content-Type":"application/json",Authorization:h}};Object(r.useEffect)((function(){e.token&&x()}),[e.token]);var x=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/finance/expenses/",O).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsx)("div",{children:Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-5",children:[Object(n.jsx)("h1",{children:"Expenses:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Amount"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/finance/expenses/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("td",{children:e.amount}),Object(n.jsx)("td",{children:e.description}),Object(n.jsx)("td",{children:e.month}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/finance/expenses/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/finance/expenses/edit/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/finance/expenses/delete/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})};function Pe(e){var t=[{menuItem:"Incomes",render:function(){return Object(n.jsx)(Ee,{token:e.token,id:e.id})}},{menuItem:"Expenses",render:function(){return Object(n.jsx)(Te,{token:e.token,id:e.id})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Finance",token:e.token}),Object(n.jsx)(Z.a,{menu:{color:"black",inverted:!0,attached:!1,tabular:!1,style:{marginTop:"-14px",display:"flex",justifyContent:"center"}},panes:t})]})}var De=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1],Object(r.useState)(!1)),o=Object(l.a)(s,2),d=o[0],b=(o[1],Object(r.useState)([])),h=Object(l.a)(b,2),m=(h[0],h[1],Object(r.useState)(new Date)),O=Object(l.a)(m,2),x=O[0],f=O[1],v=Object(r.useState)(""),k=Object(l.a)(v,2),y=(k[0],k[1],Object(r.useState)("")),w=Object(l.a)(y,2),C=(w[0],w[1],Object(r.useState)({title:"",amount:"",description:""})),S=Object(l.a)(C,2),A=S[0],E=S[1],T=A.title,P=A.amount,D=A.description,F=function(e){E(Object(i.a)(Object(i.a)({},A),{},Object(p.a)({},e.target.name,e.target.value)))},I="Token "+e.token+" ";function U(){var e=new FormData;e.append("title",A.title),e.append("amount",A.amount),e.append("description",A.description);var t=x.getFullYear()+"-"+(x.getMonth()+1)+"-"+x.getDate();return console.log(t),e.append("month",t),{method:"POST",headers:{Authorization:I},body:e}}var L=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),T){e.next=4;break}return alert("please provide expense title..."),e.abrupt("return");case 4:if(D){e.next=7;break}return alert("please provide expense details..."),e.abrupt("return");case 7:if(x){e.next=10;break}return alert("please provide date..."),e.abrupt("return");case 10:return e.next=12,fetch("https://hashmali-backend.herokuapp.com/api/finance/expenses/create/",U()).catch((function(e){return console.error(e)}));case 12:(n=e.sent).status&&(201!=n.status&&alert(n.status),201==n.status&&(alert("Successfully created Expense!"),t.push("/finance")));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Fill in Expense Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return L(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense title",name:"title",value:T,onChange:function(e){return F(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Amount"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense amount",name:"amount",value:P,onChange:function(e){return F(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense content",name:"description",value:D,onChange:function(e){return F(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Date"}),Object(n.jsx)(xe.a,{className:"form-control form-control-lg",value:x,onChange:function(e){return f(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Expense"})]})]})})},Fe=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x="Token "+e.token+" ",f="https://hashmali-backend.herokuapp.com/api/finance/"+O+"/expupdate/",v={method:"GET",headers:{"Content-Type":"application/json",Authorization:x}};Object(r.useEffect)((function(){e.token&&k()}),[e.token]);var k=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(f,v).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),m(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsxs)("h1",{className:"display-5",children:[" ","Title: "+a.title]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Amount: ",a.amount]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Expense Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.month]})})]})]})},Ie=function(e){var t=Object(u.f)(),c=Object(u.g)().id,a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],x=Object(r.useState)({title:"",amount:"",description:""}),f=Object(l.a)(x,2),v=f[0],k=f[1],y=v.title,w=v.amount,C=v.description,S=function(e){k(Object(i.a)(Object(i.a)({},v),{},Object(p.a)({},e.target.name,e.target.value)))},A="Token "+e.token+" ",E="https://hashmali-backend.herokuapp.com/api/finance/"+c+"/expupdate/",T={method:"GET",headers:{"Content-Type":"application/json",Authorization:A}};function P(){var e=new FormData;return e.append("title",v.title),e.append("amount",v.amount),e.append("description",v.description),{method:"PATCH",headers:{Authorization:A},body:e}}Object(r.useEffect)((function(){e.token&&D()}),[e.token]);var D=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch(E,T).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),O(!1),e.next=8,t.json();case 8:c=e.sent,k(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(o);var F=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),y){e.next=4;break}return alert("please provide Expense title..."),e.abrupt("return");case 4:if(C){e.next=7;break}return alert("please provide Expense details..."),e.abrupt("return");case 7:return O(!0),e.next=10,fetch(E,P()).catch((function(e){return console.error(e)}));case 10:return 200!=(n=e.sent).status&&alert(n.status),O(!1),e.next=15,D();case 15:e.sent,200==n.status&&(alert("Successfully Edited Expense!"),t.push("/finance"));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Expense Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return F(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense title",name:"title",value:y,onChange:function(e){return S(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Amount"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense amount",name:"amount",value:w,onChange:function(e){return S(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Expense content",name:"description",value:C,onChange:function(e){return S(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Edit Expense"})]})]})})},Ue=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x=Object(u.f)(),f="Token "+e.token+" ",v="https://hashmali-backend.herokuapp.com/api/finance/"+O+"/expupdate/",k={method:"GET",headers:{"Content-Type":"application/json",Authorization:f}},y={method:"DELETE",headers:{Authorization:f}};Object(r.useEffect)((function(){e.token&&C()}),[e.token]);var w=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,y).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Successfully deleted Expense!"),x.push("/finance"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(v,k).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,m(!1),s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete this Expense-",a.title,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/finance",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return w(O)},children:"Confirm Delete"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Amount: ",a.amount]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Expense Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.month]})})]})]})},Le=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(r.useState)([]),O=Object(l.a)(m,2),x=O[0],f=O[1],v=Object(r.useState)(new Date),k=Object(l.a)(v,2),y=k[0],w=k[1],C=Object(r.useState)(""),S=Object(l.a)(C,2),A=(S[0],S[1],Object(r.useState)("")),E=Object(l.a)(A,2),T=(E[0],E[1],Object(r.useState)()),P=Object(l.a)(T,2),D=P[0],F=P[1],I=Object(r.useState)(),U=Object(l.a)(I,2),L=U[0],z=U[1],W=Object(r.useState)(),H=Object(l.a)(W,2),B=H[0],G=H[1],q=Object(r.useState)({title:"",amount:"",description:"",project:"",image:""}),R=Object(l.a)(q,2),V=R[0],Q=R[1],Z=V.title,X=V.amount,Y=V.description,J=V.project,$=(V.image,function(e){"file"==e.target.type&&(alert(e.target.name),Q(Object(i.a)(Object(i.a)({},V),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&F(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&z(e.target.files[0])}(e,e.target.name)),Q(Object(i.a)(Object(i.a)({},V),{},Object(p.a)({},e.target.name,e.target.value)))});var ee="Token "+e.token+" ",te="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload";function ce(){var e=new FormData;e.append("title",V.title),e.append("amount",V.amount),e.append("description",V.description),e.append("project",V.project);var t=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate();return console.log(t),e.append("month",t),e.append("image",V.image),L&&(!function(){console.log(L);var e=new FormData;e.append("file",L),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),h(!0),fetch(te,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){G(e.url)})).catch((function(e){return alert("error while uploading...")})),h(!1)}(),console.log(B),e.append("image",B)),{method:"POST",headers:{Authorization:ee},body:e}}var ne={method:"GET",headers:{"Content-Type":"application/json",Authorization:ee}},re=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),Z){e.next=4;break}return alert("please provide income title..."),e.abrupt("return");case 4:if(Y){e.next=7;break}return alert("please provide income details..."),e.abrupt("return");case 7:if(y){e.next=10;break}return alert("please provide date..."),e.abrupt("return");case 10:if(J){e.next=13;break}return alert("please choose a project..."),e.abrupt("return");case 13:return e.next=15,fetch("https://hashmali-backend.herokuapp.com/api/finance/incomes/create/",ce()).catch((function(e){return console.error(e)}));case 15:(n=e.sent).status&&(201!=n.status&&alert(n.status),201==n.status&&(alert("Successfully created Income!"),t.push("/finance")));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",ne).catch((function(e){return console.error(e)}));case 2:return t=e.sent,s(t.status),e.next=6,t.json();case 6:c=e.sent,f(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e.token&&ae()}),[e.token]),b?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Fill in Income Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return re(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income title",name:"title",value:Z,onChange:function(e){return $(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Amount"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income amount",name:"amount",value:X,onChange:function(e){return $(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income content",name:"description",value:Y,onChange:function(e){return $(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Date"}),Object(n.jsx)(xe.a,{className:"form-control form-control-lg",value:y,onChange:function(e){return w(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:function(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),Q(Object(i.a)(Object(i.a)({},V),{},Object(p.a)({},c,parseInt(n)))),console.log(V)},children:[Object(n.jsx)("option",{children:"please choose a project:"}),x?x.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Photo"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:D}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return $(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Income"})]})]})})},ze=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x="Token "+e.token+" ",f="https://hashmali-backend.herokuapp.com/api/finance/"+O+"/incupdate/",v={method:"GET",headers:{"Content-Type":"application/json",Authorization:x}};Object(r.useEffect)((function(){e.token&&k()}),[e.token]);var k=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(f,v).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),m(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsxs)("h1",{className:"display-5",children:[" ","Title: "+a.title]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:[" ","Photo: ",Object(n.jsx)(M,{avatarUrl:a.image})]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Amount: ",a.amount]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",a.project]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Income Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.month]})})]})]})},We=function(e){var t=Object(u.f)(),c=Object(u.g)().id,a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(),h=Object(l.a)(b,2),m=h[0],O=h[1],x=Object(r.useState)(),f=Object(l.a)(x,2),v=f[0],k=f[1],y=Object(r.useState)(!1),w=Object(l.a)(y,2),C=w[0],S=w[1],A=Object(r.useState)(""),E=Object(l.a)(A,2),T=E[0],P=E[1],D=Object(r.useState)([]),F=Object(l.a)(D,2),I=F[0],U=F[1],L=Object(r.useState)({title:"",amount:"",description:"",project:"",image:""}),z=Object(l.a)(L,2),W=z[0],H=z[1],B=W.title,G=W.amount,q=W.description,R=W.project,V=(W.image,function(e){"file"==e.target.type&&(alert(e.target.name),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"image"==t&&O(e.target.result)},c.readAsDataURL(e.target.files[0]),"image"==t&&k(e.target.files[0])}(e,e.target.name)),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},e.target.name,e.target.value)))});var Q="Token "+e.token+" ",Z="https://hashmali-backend.herokuapp.com/api/finance/"+c+"/incupdate/",X="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload",Y={method:"GET",headers:{"Content-Type":"application/json",Authorization:Q}},J={method:"GET",headers:{"Content-Type":"application/json",Authorization:Q}};function $(){var e=new FormData;return e.append("title",W.title),e.append("amount",W.amount),e.append("description",W.description),e.append("project",W.project),v&&(!function(){console.log(v);var e=new FormData;e.append("file",v),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),S(!0),fetch(X,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){P(e.url)})).catch((function(e){return alert("error while uploading...")})),S(!1)}(),console.log(T),e.append("image",T)),{method:"PATCH",headers:{Authorization:Q},body:e}}var ee=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",J).catch((function(e){return console.error(e)}));case 2:return t=e.sent,d(t.status),e.next=6,t.json();case 6:c=e.sent,U(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){e.token&&(te(),ee())}),[e.token]),Object(r.useEffect)((function(){T&&function(){var e=new FormData;e.append("image",T);var t={method:"PATCH",headers:{Authorization:Q},body:e};S(!0),fetch(Z,t).then((function(e){return e.json()})).then((function(e){P(e.url)})).catch((function(e){return alert("error while updating...")})),S(!1)}()}),[T]);var te=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,fetch(Z,Y).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),S(!1),e.next=8,t.json();case 8:c=e.sent,H(c),O(c.image);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(o);var ce=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),B){e.next=4;break}return alert("please provide income title..."),e.abrupt("return");case 4:if(q){e.next=7;break}return alert("please provide income details..."),e.abrupt("return");case 7:if(R){e.next=10;break}return alert("please choose a project..."),e.abrupt("return");case 10:return S(!0),e.next=13,fetch(Z,$()).catch((function(e){return console.error(e)}));case 13:return 200!=(n=e.sent).status&&alert(n.status),S(!1),e.next=18,te();case 18:e.sent,200==n.status&&(alert("Successfully Edited Income!"),t.push("/finance"));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return C?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/finance",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Income Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return ce(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income title",name:"title",value:B,onChange:function(e){return V(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Amount"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income amount",name:"amount",value:G,onChange:function(e){return V(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Income content",name:"description",value:q,onChange:function(e){return V(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsx)("div",{children:Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:function(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),H(Object(i.a)(Object(i.a)({},W),{},Object(p.a)({},c,parseInt(n)))),console.log(W)},children:[Object(n.jsx)("option",{children:"please choose a project:"}),I?I.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Photo"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:m}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",name:"image",onChange:function(e){return V(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Edit Income"})]})]})})},He=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=(i[0],i[1]),b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=p[0],m=p[1],O=Object(u.g)().id,x=Object(u.f)(),f="Token "+e.token+" ",v="https://hashmali-backend.herokuapp.com/api/finance/"+O+"/incupdate/",k={method:"GET",headers:{"Content-Type":"application/json",Authorization:f}},y={method:"DELETE",headers:{Authorization:f}};Object(r.useEffect)((function(){e.token&&C()}),[e.token]);var w=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,y).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Successfully deleted income!"),x.push("/finance"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,fetch(v,k).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,m(!1),s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete this income-",a.title,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/finance",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return w(O)},children:"Confirm Delete"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:[" ","Photo: ",Object(n.jsx)(M,{avatarUrl:a.image})]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Amount: ",a.amount]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",a.project]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Income Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.month]})})]})]})},Be=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b=Object(r.useState)(!1),p=Object(l.a)(b,2),h=(p[0],p[1],"Token "+e.token+" "),O={method:"GET",headers:{"Content-Type":"application/json",Authorization:h}};Object(r.useEffect)((function(){e.token&&x()}),[e.token]);var x=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/mission/",O).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),e.next=7,t.json();case 7:c=e.sent,s(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Missions",token:e.token}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Missions",token:e.token}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-5",children:[Object(n.jsx)("h1",{children:"Missions:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Worker"}),Object(n.jsx)("th",{scope:"col",children:"Project"}),Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/missions/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.title}),Object(n.jsx)("th",{scope:"col",children:e.worker.first_name+" "+e.worker.second_name}),e.project.project_code,Object(n.jsx)("td",{children:e.date}),Object(n.jsx)("td",{children:e.description}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/missions/".concat(e.id,"/").concat(e.worker.id,"/").concat(e.project.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/missions/edit/".concat(e.id,"/").concat(e.worker.id,"/").concat(e.project.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/missions/delete/".concat(e.id,"/").concat(e.worker.id,"/").concat(e.project.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})]})},Ge=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=(d[1],Object(r.useState)([])),m=Object(l.a)(h,2),O=m[0],x=m[1],f=Object(r.useState)([]),v=Object(l.a)(f,2),k=v[0],y=v[1],w=Object(r.useState)(new Date),C=Object(l.a)(w,2),S=C[0],A=C[1],E=Object(r.useState)({title:"",worker:"",project:"",description:""}),T=Object(l.a)(E,2),P=T[0],D=T[1],F=P.title,I=P.worker,U=P.project,L=P.description,z=function(e){D(Object(i.a)(Object(i.a)({},P),{},Object(p.a)({},e.target.name,e.target.value)))};function W(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),D(Object(i.a)(Object(i.a)({},P),{},Object(p.a)({},c,parseInt(n)))),console.log(P)}var H="Token "+e.token+" ";function B(){var e=new FormData;e.append("title",P.title),e.append("worker",P.worker),e.append("project",P.project);var t=S.getFullYear()+"-"+(S.getMonth()+1)+"-"+S.getDate();return console.log(t),e.append("date",t),e.append("description",P.description),{method:"POST",headers:{Authorization:H},body:e}}var G={method:"GET",headers:{"Content-Type":"application/json",Authorization:H}},M=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),F){e.next=4;break}return alert("please provide mission title..."),e.abrupt("return");case 4:if(L){e.next=7;break}return alert("please provide mission details..."),e.abrupt("return");case 7:if(S){e.next=10;break}return alert("please provide date..."),e.abrupt("return");case 10:if(U){e.next=13;break}return alert("please choose a project..."),e.abrupt("return");case 13:if(I){e.next=16;break}return alert("please choose a worker..."),e.abrupt("return");case 16:return e.next=18,fetch("https://hashmali-backend.herokuapp.com/api/mission/create/",B()).catch((function(e){return console.error(e)}));case 18:(n=e.sent).status&&(201!=n.status&&alert(n.status),201==n.status&&(alert("Successfully created mission!"),t.push("/missions")));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",G).catch((function(e){return console.error(e)}));case 2:return t=e.sent,s(t.status),e.next=6,t.json();case 6:c=e.sent,x(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/worker/",G).catch((function(e){return console.error(e)}));case 2:return t=e.sent,s(t.status),e.next=6,t.json();case 6:c=e.sent,y(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e.token&&(q(),R())}),[e.token]),b?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/missions",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Fill in Mission Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return M(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Mission title",name:"title",value:F,onChange:function(e){return z(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Worker"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker"}),Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"worker",onChange:W,children:[Object(n.jsx)("option",{children:"please choose worker:"}),k?k.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.first_name+" "+e.second_name})})):""]})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project"}),Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:W,children:[Object(n.jsx)("option",{children:"please choose a project:"}),O?O.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Date"}),Object(n.jsx)(xe.a,{className:"form-control form-control-lg",value:S,onChange:function(e){return A(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Mission content",name:"description",value:L,onChange:function(e){return z(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Mission"})]})]})})},Me=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)([]),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(r.useState)([]),h=Object(l.a)(p,2),m=h[0],O=h[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),v=(f[0],f[1]),k=Object(r.useState)(!1),y=Object(l.a)(k,2),w=y[0],C=y[1],S=Object(u.g)(),A=S.id,E=S.id2,T=S.id3,P="Token "+e.token+" ",D="https://hashmali-backend.herokuapp.com/api/mission/"+A+"/update/",F="https://hashmali-backend.herokuapp.com/api/worker/"+E+"/edit/",I="https://hashmali-backend.herokuapp.com/api/project/"+T+"/manage/",U={method:"GET",headers:{"Content-Type":"application/json",Authorization:P}};Object(r.useEffect)((function(){e.token&&(L(),z(),W())}),[e.token]);var L=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(D,U).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(I,U).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,b(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(F,U).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,O(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/missions",children:"Back to Home"}),Object(n.jsxs)("h1",{className:"display-5",children:[" ","Title: "+a.title]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Worker: ",m.first_name+" "+m.second_name]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",d.project_code]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Mission Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.date]})})]})]})},qe=function(e){var t=Object(u.f)(),c=Object(u.g)(),a=c.id,s=(c.id2,c.id3,Object(r.useState)("")),o=Object(l.a)(s,2),d=o[0],b=o[1],h=Object(r.useState)(!1),m=Object(l.a)(h,2),O=m[0],x=m[1],f=Object(r.useState)([]),v=Object(l.a)(f,2),k=v[0],y=v[1],w=Object(r.useState)([]),C=Object(l.a)(w,2),S=C[0],A=C[1],E=Object(r.useState)({title:"",worker:"",project:"",description:""}),T=Object(l.a)(E,2),P=T[0],D=T[1],F=P.title,I=P.worker,U=P.project,L=P.description,z=function(e){D(Object(i.a)(Object(i.a)({},P),{},Object(p.a)({},e.target.name,e.target.value)))};function W(e){var t=e.target,c=t.name,n=t.value;console.log(c),console.log(n),D(Object(i.a)(Object(i.a)({},P),{},Object(p.a)({},c,parseInt(n)))),console.log(P)}var H="Token "+e.token+" ",B="https://hashmali-backend.herokuapp.com/api/mission/"+a+"/update/",G={method:"GET",headers:{"Content-Type":"application/json",Authorization:H}};function M(){var e=new FormData;return e.append("title",P.title),e.append("worker",P.worker),e.append("project",P.project),e.append("description",P.description),{method:"PATCH",headers:{Authorization:H},body:e}}var q=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",G).catch((function(e){return console.error(e)}));case 2:return t=e.sent,b(t.status),e.next=6,t.json();case 6:c=e.sent,y(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/worker/",G).catch((function(e){return console.error(e)}));case 2:return t=e.sent,b(t.status),e.next=6,t.json();case 6:c=e.sent,A(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){e.token&&(V(),q(),R())}),[e.token]);var V=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,fetch(B,G).catch((function(e){return console.error(e)}));case 3:return t=e.sent,b(t.status),x(!1),e.next=8,t.json();case 8:c=e.sent,D(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(d);var Q=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),F){e.next=4;break}return alert("please provide mission title..."),e.abrupt("return");case 4:if(L){e.next=7;break}return alert("please provide mission details..."),e.abrupt("return");case 7:if(U){e.next=10;break}return alert("please choose a project..."),e.abrupt("return");case 10:if(I){e.next=13;break}return alert("please choose a worker..."),e.abrupt("return");case 13:return x(!0),e.next=16,fetch(B,M()).catch((function(e){return console.error(e)}));case 16:return 200!=(n=e.sent).status&&alert(n.status),x(!1),e.next=21,V();case 21:e.sent,200==n.status&&(alert("Successfully Edited Mission!"),t.push("/missions"));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O?Object(n.jsx)(K.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(n.jsx)(K.a.Column,{style:{maxWidth:450},children:Object(n.jsx)(g,{})})}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/missions",children:"Back to Home"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Mission Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return Q(e)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Title"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Mission title",name:"title",value:F,onChange:function(e){return z(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Worker"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Worker"}),Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"worker",onChange:W,children:[Object(n.jsx)("option",{children:"please choose worker:"}),S?S.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.first_name+" "+e.second_name})})):""]})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project"}),Object(n.jsxs)("select",{class:"form-select",className:"form-control form-control-lg",name:"project",onChange:W,children:[Object(n.jsx)("option",{children:"please choose a project:"}),k?k.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.project_code})})):""]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Mission content",name:"description",value:L,onChange:function(e){return z(e)}})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Edit Mission"})]})]})})},Re=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)([]),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(r.useState)([]),h=Object(l.a)(p,2),m=h[0],O=h[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),v=(f[0],f[1]),k=Object(r.useState)(!1),y=Object(l.a)(k,2),w=y[0],C=y[1],S=Object(u.g)(),A=S.id,E=S.id2,T=S.id3,P=Object(u.f)(),D="Token "+e.token+" ",F="https://hashmali-backend.herokuapp.com/api/mission/"+A+"/update/",I="https://hashmali-backend.herokuapp.com/api/worker/"+E+"/edit/",U="https://hashmali-backend.herokuapp.com/api/project/"+T+"/manage/",L={method:"GET",headers:{"Content-Type":"application/json",Authorization:D}},z={method:"DELETE",headers:{Authorization:D}};Object(r.useEffect)((function(){e.token&&(H(),B(),G())}),[e.token]);var W=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F,z).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Successfully deleted Mission!"),P.push("/missions"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(F,L).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(U,L).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,b(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch(I,L).catch((function(e){return console.error(e)}));case 3:return t=e.sent,v(t.status),C(!1),e.next=8,t.json();case 8:c=e.sent,O(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete this Mission-",a.title,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/missions",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return W(A)},children:"Confirm Delete"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{justifyContent:"center"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Worker: ",m.first_name+" "+m.second_name]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Project: ",d.project_code]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Mission Details: ",a.description]})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("h3",{children:["Date: ",a.date]})})]})]})},Ve=c(481),Ke=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],b={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e.token+" "}};Object(r.useEffect)((function(){e.token&&p()}),[e.token]);var p=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hashmali-backend.herokuapp.com/api/project/",b).catch((function(e){return console.error(e)}));case 2:return t=e.sent,d(t.status),e.next=6,t.json();case 6:c=e.sent,s(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 200!=u?Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{activeItem:"Projects",token:e.token}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"100px"},children:Object(n.jsx)(g,{type:"Puff",color:"#343a40",height:150,width:150,timeout:3e3})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"py-4",children:[Object(n.jsx)("h1",{children:"List Of Projects:"}),Object(n.jsxs)("table",{className:"table border shadow",children:[Object(n.jsx)("thead",{style:{backgroundColor:"black"},children:Object(n.jsxs)("tr",{style:{color:"white"},children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Project Code"}),Object(n.jsx)("th",{scope:"col",children:"Building Type"}),Object(n.jsx)("th",{scope:"col",children:"Building Photo"}),Object(n.jsx)("th",{scope:"col",children:"Address"}),Object(n.jsx)("th",{scope:"col",children:"Progress (%)"}),Object(n.jsx)("th",{children:"Action"}),Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)(j.b,{to:"/projects/create",children:Object(n.jsx)(m.a,{icon:"add",color:"yellow"})})})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.project_code}),Object(n.jsx)("td",{children:e.property_type}),Object(n.jsx)("td",{children:Object(n.jsx)(M,{avatarUrl:e.building_image})}),Object(n.jsx)("td",{children:e.address_link}),Object(n.jsx)("td",{children:Object(n.jsx)(Ve.a,{now:e.progress,label:"".concat(e.progress,"%")})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(j.b,{to:"/projects/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"eye",color:"teal"})}),Object(n.jsx)(j.b,{to:"/projects/edit/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"edit",color:"blue"})}),Object(n.jsx)(j.b,{to:"/projects/delete/".concat(e.id),children:Object(n.jsx)(m.a,{icon:"delete",color:"red"})})]})]})}))})]})]})})]})},Qe=function(e){var t=Object(u.f)(),c=Object(r.useState)(""),a=Object(l.a)(c,2),s=(a[0],a[1],Object(r.useState)()),o=Object(l.a)(s,2),d=o[0],b=o[1],h=Object(r.useState)(),m=Object(l.a)(h,2),O=m[0],x=m[1],f=Object(r.useState)(),g=Object(l.a)(f,2),v=g[0],k=g[1],y=Object(r.useState)(!1),w=Object(l.a)(y,2),C=(w[0],w[1]),S=Object(r.useState)({project_code:"",property_type:"",address_link:"",city:"",street:"",property_no:"",owner_first_name:"",owner_second_name:"",owner_phone_no:"",owner_email:"",contractor_first_name:"",contractor_second_name:"",contractor_phone_no:"",contractor_email:"",architect_first_name:"",architect_second_name:"",architect_phone_no:"",architect_email:"",building_image:"",progress:""}),A=Object(l.a)(S,2),E=A[0],T=A[1],P=E.project_code,D=E.property_type,F=E.address_link,I=E.city,U=E.street,L=E.property_no,z=E.owner_first_name,W=E.owner_second_name,H=E.owner_phone_no,B=E.owner_email,G=E.contractor_first_name,q=E.contractor_second_name,R=E.contractor_phone_no,V=E.contractor_email,K=E.architect_first_name,Q=E.architect_second_name,Z=E.architect_phone_no,X=E.architect_email,Y=(E.building_image,E.progress),J=function(e){"file"==e.target.type&&(alert(e.target.name),T(Object(i.a)(Object(i.a)({},E),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"building_image"==t&&b(e.target.result)},c.readAsDataURL(e.target.files[0]),"building_image"==t&&x(e.target.files[0])}(e,e.target.name)),T(Object(i.a)(Object(i.a)({},E),{},Object(p.a)({},e.target.name,e.target.value)))},$="Token "+e.token+" ",ee="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload";function te(){var e=new FormData;return e.append("project_code",E.project_code),e.append("property_type",E.property_type),e.append("address_link",E.address_link),e.append("city",E.city),e.append("owner_first_name",E.owner_first_name),e.append("owner_second_name",E.owner_second_name),e.append("owner_phone_no",E.owner_phone_no),e.append("owner_email",E.owner_email),e.append("contractor_first_name",E.contractor_first_name),e.append("contractor_second_name",E.contractor_second_name),e.append("contractor_phone_no",E.contractor_phone_no),e.append("contractor_email",E.contractor_email),e.append("architect_first_name",E.architect_first_name),e.append("architect_second_name",E.architect_second_name),e.append("architect_phone_no",E.architect_phone_no),e.append("architect_second_name",E.architect_email),e.append("progress",E.progress),O&&(!function(){console.log(O);var e=new FormData;e.append("file",O),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),C(!0),fetch(ee,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){k(e.url)})).catch((function(e){return alert("error while uploading...")})),C(!1)}(),console.log(v),e.append("building_image",v)),{method:"POST",headers:{Authorization:$},body:e}}var ce=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,fetch("https://hashmali-backend.herokuapp.com/api/project/create/",te()).catch((function(e){return console.error(e)}));case 3:201!=(n=e.sent).status&&alert(n.status),201==n.status&&(alert("Successfully created project!"),t.push("/projects"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/projects",children:"Back to Projects"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Create a new Project"}),Object(n.jsxs)("form",{onSubmit:function(e){return ce(e)},children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project Code"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter project code",name:"project_code",value:P,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("h4",{className:"text-center mb-4",children:"Property"}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Property Type"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter property type",name:"property_type",value:D,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Property Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter property number",name:"property_no",value:L,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Address"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter address",name:"address_link",value:F,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"City"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter city name",name:"city",value:I,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Street"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter street name",name:"street",value:U,onChange:function(e){return J(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Owner"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner first name ",name:"owner_first_name",value:z,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner last name ",name:"owner_second_name",value:W,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Phone Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner phone number",name:"owner_phone_no",value:H,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner email",name:"owner_email",value:B,onChange:function(e){return J(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Contractor"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor first name ",name:"contractor_first_name",value:G,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor last name ",name:"contractor_second_name",value:q,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Phone"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor phone number",name:"contractor_phone_no",value:R,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor email",name:"contractor_email",value:V,onChange:function(e){return J(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Architect"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect first name ",name:"architect_first_name",value:K,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect last name ",name:"architect_second_name",value:Q,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Phone"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect phone number",name:"architect_phone_no",value:Z,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect email",name:"architect_email",value:X,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project Progress?"}),Object(n.jsx)("input",{type:"number",className:"form-control form-control-lg",placeholder:"Update Project progress",name:"progress",value:Y,onChange:function(e){return J(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:d}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload project Image"}),Object(n.jsx)("input",{type:"file",name:"building_image",onChange:function(e){return J(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Create Project"})]})]})})},Ze=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),m=h[0],O=h[1],x=Object(u.g)().id,f="Token "+e.token+" ",v="https://hashmali-backend.herokuapp.com/api/project/"+x+"/manage/",k={method:"GET",headers:{"Content-Type":"application/json",Authorization:f}};Object(r.useEffect)((function(){e.token&&y()}),[e.token]);var y=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch(v,k).catch((function(e){return console.error(e)}));case 3:return t=e.sent,b(t.status),O(!1),e.next=8,t.json();case 8:c=e.sent,s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(d),m?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/projects",children:"Back to Projects"}),Object(n.jsxs)("h1",{className:"display-5",style:{textAlign:"center"},children:["Project Code: ",a.project_code]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsxs)("ul",{className:"list-group w-50",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Property Type: ",a.property_type]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Address: ",a.address_link]}),Object(n.jsxs)("li",{className:"list-group-item",children:["City: ",a.city]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Street: ",a.street]}),Object(n.jsxs)("li",{className:"list-group-item",children:["property_no: ",a.property_no]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("a",{href:"https://www.waze.com/live-map?utm_source=waze_website&utm_campaign=waze_website&utm_medium=website_menu",target:"_blank",children:"Open Waze"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)("a",{href:"https://www.google.co.il/maps",target:"_blank",children:"Open Google Maps"})})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Owner First Name: ",a.owner_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Last Name: ",a.owner_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Phone: ",a.owner_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Email: ",a.owner_email]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor First Name: ",a.contractor_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Last Name: ",a.contractor_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Phone: ",a.contractor_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Email: ",a.contractor_email]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Architect First Name: ",a.architect_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Last Name: ",a.architect_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Phone: ",a.architect_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Email: ",a.architect_email]})]})]})]})},Xe=function(e){var t=Object(u.f)(),c=Object(u.g)().id,a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(),h=Object(l.a)(b,2),m=h[0],O=h[1],x=Object(r.useState)(),f=Object(l.a)(x,2),v=f[0],k=f[1],y=Object(r.useState)(""),w=Object(l.a)(y,2),C=w[0],S=w[1],A=Object(r.useState)(!1),E=Object(l.a)(A,2),T=E[0],P=E[1],D=Object(r.useState)({project_code:"",property_type:"",address_link:"",city:"",street:"",property_no:"",owner_first_name:"",owner_second_name:"",owner_phone_no:"",owner_email:"",contractor_first_name:"",contractor_second_name:"",contractor_phone_no:"",contractor_email:"",architect_first_name:"",architect_second_name:"",architect_phone_no:"",architect_email:"",building_image:"",progress:""}),F=Object(l.a)(D,2),I=F[0],U=F[1],L=I.project_code,z=I.property_type,W=I.address_link,H=I.city,B=I.street,G=I.property_no,q=I.owner_first_name,R=I.owner_second_name,V=I.owner_phone_no,K=I.owner_email,Q=I.contractor_first_name,Z=I.contractor_second_name,X=I.contractor_phone_no,Y=I.contractor_email,J=I.architect_first_name,$=I.architect_second_name,ee=I.architect_phone_no,te=I.architect_email,ce=(I.building_image,I.progress),ne=function(e){"file"==e.target.type&&(alert(e.target.name),U(Object(i.a)(Object(i.a)({},I),{},Object(p.a)({},e.target.name,e.target.files[0]))),function(e,t){var c=new FileReader;c.onload=function(e){"building_image"==t&&O(e.target.result)},c.readAsDataURL(e.target.files[0]),"building_image"==t&&k(e.target.files[0])}(e,e.target.name)),U(Object(i.a)(Object(i.a)({},I),{},Object(p.a)({},e.target.name,e.target.value)))},re="Token "+e.token+" ",ae="https://hashmali-backend.herokuapp.com/api/project/"+c+"/manage/",se="https://api.cloudinary.com/v1_1/dj42j4pqu/image/upload",oe={method:"GET",headers:{"Content-Type":"application/json",Authorization:re}};function ie(){var e=new FormData;return e.append("project_code",I.project_code),e.append("property_type",I.property_type),e.append("address_link",I.address_link),e.append("city",I.city),e.append("owner_first_name",I.owner_first_name),e.append("owner_second_name",I.owner_second_name),e.append("owner_phone_no",I.owner_phone_no),e.append("owner_email",I.owner_email),e.append("contractor_first_name",I.contractor_first_name),e.append("contractor_second_name",I.contractor_second_name),e.append("contractor_phone_no",I.contractor_phone_no),e.append("contractor_email",I.contractor_email),e.append("architect_first_name",I.architect_first_name),e.append("architect_second_name",I.architect_second_name),e.append("architect_phone_no",I.architect_phone_no),e.append("architect_second_name",I.architect_email),e.append("progress",I.progress),v&&function(){console.log(v);var e=new FormData;e.append("file",v),e.append("upload_preset","hashmaliProject"),e.append("cloud_name","dj42j4pqu"),P(!0),fetch(se,{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){S(e.url)})).catch((function(e){return alert("error while uploading...")})),P(!1)}(),{method:"PUT",headers:{Authorization:re},body:e}}Object(r.useEffect)((function(){e.token&&le()}),[e.token]),Object(r.useEffect)((function(){C&&(!function(){var e=new FormData;e.append("building_image",C);var t={method:"PATCH",headers:{Authorization:re},body:e};P(!0),fetch(ae,t).then((function(e){return e.json()})).then((function(e){S(e.url)})).catch((function(e){return alert("error while updating...")})),P(!1)}(),le())}),[C]);var le=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,fetch(ae,oe).catch((function(e){return console.error(e)}));case 3:return t=e.sent,d(t.status),P(!1),e.next=8,t.json();case 8:c=e.sent,U(c),O(c.building_image);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(o);var je=function(){var e=Object(_.a)(N.a.mark((function e(c){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),P(!0),e.next=4,fetch(ae,ie()).catch((function(e){return console.error(e)}));case 4:return 200!=(n=e.sent).status&&alert(n.status),P(!1),e.next=9,le();case 9:e.sent,200==n.status&&(alert("Successfully updated project!"),t.push("/projects"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return T?Object(n.jsx)(g,{}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"w-75 mx-auto shadow p-5",children:[Object(n.jsx)(j.b,{className:"btn btn-dark",to:"/projects",children:"Back to Projects"}),Object(n.jsx)("h2",{className:"text-center mb-4",children:"Edit Project Details:"}),Object(n.jsxs)("form",{onSubmit:function(e){return je(e)},children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Project"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project Code"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter project code",name:"project_code",value:L,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("h4",{className:"text-center mb-4",children:"Property"}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Property Type"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter property type",name:"property_type",value:z,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Property Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter property number",name:"property_no",value:G,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Address"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter address",name:"address_link",value:W,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"City"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter city name",name:"city",value:H,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Street"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter street name",name:"street",value:B,onChange:function(e){return ne(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Owner"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner first name ",name:"owner_first_name",value:q,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner last name ",name:"owner_second_name",value:R,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Phone Number"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner phone number",name:"owner_phone_no",value:V,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Owner Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter owner email",name:"owner_email",value:K,onChange:function(e){return ne(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Contractor"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor first name ",name:"contractor_first_name",value:Q,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor last name ",name:"contractor_second_name",value:Z,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Phone"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor phone number",name:"contractor_phone_no",value:X,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Contractor Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter contractor email",name:"contractor_email",value:Y,onChange:function(e){return ne(e)}})]}),Object(n.jsx)("h4",{className:"text-center mb-4",children:"Architect"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect first name ",name:"architect_first_name",value:J,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Last Name"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect last name ",name:"architect_second_name",value:$,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Phone"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect phone number",name:"architect_phone_no",value:ee,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Architect Email"}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter architect email",name:"architect_email",value:te,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Project Progress?"}),Object(n.jsx)("input",{type:"number",className:"form-control form-control-lg",placeholder:"Update Project progress",name:"progress",value:ce,onChange:function(e){return ne(e)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)(M,{avatarUrl:m}),Object(n.jsx)(ue.a,{color:"black",as:"a",basic:!0,children:"Upload project Image"}),Object(n.jsx)("input",{type:"file",name:"building_image",onChange:function(e){return ne(e)},accept:"image/*"})]}),Object(n.jsx)("button",{className:"btn btn-dark btn-block",children:"Update Project"})]})]})})},Ye=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),m=h[0],O=h[1],x=Object(u.g)().id,f=Object(u.f)(),v="Token "+e.token+" ",k="https://hashmali-backend.herokuapp.com/api/project/"+x+"/manage/",y={method:"GET",headers:{"Content-Type":"application/json",Authorization:v}},w={method:"DELETE",headers:{Authorization:v}};Object(r.useEffect)((function(){e.token&&S()}),[e.token]);var C=function(){var e=Object(_.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k,w).catch((function(e){return console.error(e)}));case 2:204==e.sent.status&&(alert("Succesffully deleted project!"),f.push("/projects"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,fetch(k,y).catch((function(e){return console.error(e)}));case 3:return t=e.sent,b(t.status),e.next=7,t.json();case 7:c=e.sent,O(!1),s(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(d),m?Object(n.jsx)(g,{}):Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsxs)("h1",{className:"display-5",children:["Are you sure you want to delete project-",a.project_code,"?"]}),Object(n.jsx)(j.b,{className:"btn btn-primary",to:"/projects",children:"Cancel"}),Object(n.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:function(){return C(x)},children:"Confirm Delete"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsxs)("ul",{className:"list-group w-50",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Property Type: ",a.property_type]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Address: ",a.address_link]}),Object(n.jsxs)("li",{className:"list-group-item",children:["City: ",a.city]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Street: ",a.street]}),Object(n.jsxs)("li",{className:"list-group-item",children:["property_no: ",a.property_no]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Owner First Name: ",a.owner_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Last Name: ",a.owner_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Phone: ",a.owner_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Owner Email: ",a.owner_email]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor First Name: ",a.contractor_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Last Name: ",a.contractor_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Phone: ",a.contractor_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Contractor Email: ",a.contractor_email]})]}),Object(n.jsxs)("ul",{className:"list-group w-50",style:{marginLeft:"15px"},children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Architect First Name: ",a.architect_first_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Last Name: ",a.architect_second_name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Phone: ",a.architect_phone_no]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Architect Email: ",a.architect_email]})]})]}),Object(n.jsx)("ul",{className:"list-group w-50",style:{marginTop:"15px"},children:Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(M,{avatarUrl:a.image})}),Object(n.jsx)("li",{className:"list-group-item",style:{marginLeft:"10px"},children:Object(n.jsx)(M,{avatarUrl:a.image})}),Object(n.jsx)("li",{className:"list-group-item",style:{marginLeft:"10px"},children:Object(n.jsx)(M,{avatarUrl:a.image})}),Object(n.jsx)("li",{className:"list-group-item",style:{marginLeft:"10px"},children:Object(n.jsx)(M,{avatarUrl:a.image})}),Object(n.jsx)("li",{className:"list-group-item",style:{marginLeft:"10px"},children:Object(n.jsx)(M,{avatarUrl:a.image})})]})})]})};function Je(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),o=Object(l.a)(s,2),d=o[0],b=o[1];Object(r.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("id");a(e),b(t)}),[]),Object(r.useEffect)((function(){localStorage.setItem("token",c),localStorage.setItem("id",d)}),[c,d]);var p=function(e){a(e)},h=function(e){b(e)};return Object(n.jsx)(j.a,{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",render:function(e){return Object(n.jsx)(Ae,Object(i.a)(Object(i.a)({},e),{},{userLogin:p,userId:h}))}}),Object(n.jsx)(u.a,{path:"/Home",render:function(e){return Object(n.jsx)(V,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/info_edit",render:function(e){return Object(n.jsx)(Q,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{path:"/annotate",render:function(e){return Object(n.jsx)(le,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{path:"/workers_management",render:function(e){return Object(n.jsx)(je,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/workers/create",render:function(e){return Object(n.jsx)(de,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/workers/:id",render:function(e){return Object(n.jsx)(be,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/workers/delete/:id",render:function(e){return Object(n.jsx)(he,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/workers/edit/:id",render:function(e){return Object(n.jsx)(pe,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/reports",render:function(e){return Object(n.jsx)(me,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/reports/create",render:function(e){return Object(n.jsx)(ke,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/reports/:id",render:function(e){return Object(n.jsx)(ye,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/reports/delete/:id",render:function(e){return Object(n.jsx)(_e,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/reports/edit/:id",render:function(e){return Object(n.jsx)(Ne,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance",render:function(e){return Object(n.jsx)(Pe,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/incomes/create",render:function(e){return Object(n.jsx)(Le,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/incomes/:id",render:function(e){return Object(n.jsx)(ze,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/incomes/delete/:id",render:function(e){return Object(n.jsx)(He,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/incomes/edit/:id",render:function(e){return Object(n.jsx)(We,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/expenses/create",render:function(e){return Object(n.jsx)(De,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/expenses/:id",render:function(e){return Object(n.jsx)(Fe,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/expenses/delete/:id",render:function(e){return Object(n.jsx)(Ue,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/finance/expenses/edit/:id",render:function(e){return Object(n.jsx)(Ie,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/projects",render:function(e){return Object(n.jsx)(Ke,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/projects/create",render:function(e){return Object(n.jsx)(Qe,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/projects/:id",render:function(e){return Object(n.jsx)(Ze,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/projects/delete/:id",render:function(e){return Object(n.jsx)(Ye,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/projects/edit/:id",render:function(e){return Object(n.jsx)(Xe,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{path:"/logout",render:function(e){return Object(n.jsx)(v,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/missions",render:function(e){return Object(n.jsx)(Be,Object(i.a)(Object(i.a)({},e),{},{token:c,id:d}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/missions/create",render:function(e){return Object(n.jsx)(Ge,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/missions/:id/:id2/:id3",render:function(e){return Object(n.jsx)(Me,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/missions/delete/:id/:id2/:id3",render:function(e){return Object(n.jsx)(Re,Object(i.a)(Object(i.a)({},e),{},{token:c}))}}),Object(n.jsx)(u.a,{exact:!0,path:"/missions/edit/:id/:id2/:id3",render:function(e){return Object(n.jsx)(qe,Object(i.a)(Object(i.a)({},e),{},{token:c}))}})]})})}var $e=function(e){e&&e instanceof Function&&c.e(6).then(c.bind(null,862)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};c(397);o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(Je,{})}),document.getElementById("root")),$e()}},[[398,1,2]]]);
//# sourceMappingURL=main.0ceec9b6.chunk.js.map